(this.webpackJsonpasteria=this.webpackJsonpasteria||[]).push([[0],{28:function(e,t,n){e.exports=n(38)},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(25),u=n.n(i),l=n(16),s=n(13),c=n(12),o=n(1),h=n(3),v=n(5),f=n(2),y=n(4);function d(){return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"G"),r.a.createElement("th",null,"m"),r.a.createElement("th",null,"b"),r.a.createElement("th",null,"R")))}function m(e){var t=e.data.map((function(e,t){var n=e.m,a=e.b,i=e.r;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),r.a.createElement("td",null,null!==n&&void 0!==n?n:""),r.a.createElement("td",null,null!==a&&void 0!==a?a:""),r.a.createElement("td",null,null!==i&&void 0!==i?i:""))})).reverse();return r.a.createElement("tbody",null,t)}var b=function(e){var t=e.data;return r.a.createElement("table",null,r.a.createElement(d,null),r.a.createElement(m,{data:t}))},p=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(v.a)(this,Object(f.a)(t).call(this,e))).state=void 0,n.handleSubmit=void 0,n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(c.a)({},a,r))},n.submitForm=function(){n.props.handleSubmit(n.state)},n.state={samples:1,sensitivity:1,friction:1,generations:1},n.handleSubmit=e.handleSubmit,n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.state,t=e.samples,n=e.sensitivity,a=e.friction,i=e.generations;return r.a.createElement("form",null,r.a.createElement("label",null,"Samples"),r.a.createElement("input",{type:"number",name:"samples",value:isFinite(t)?t:"",min:"1",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Sensitivity"),r.a.createElement("input",{type:"number",name:"sensitivity",value:isFinite(n)?n:"",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Friction"),r.a.createElement("input",{type:"number",name:"friction",value:isFinite(a)?a:"",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Generations"),r.a.createElement("input",{type:"number",name:"generations",value:isFinite(i)?i:"",min:"0",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("input",{type:"button",value:"Train",onClick:this.submitForm}))}}]),t}(a.Component),g=function(){function e(){Object(o.a)(this,e),this._value=NaN,this._deriv=new Map}return Object(h.a)(e,[{key:"value",value:function(){return isFinite(this._value)||(this._value=this.valueImpl()),this._value}},{key:"deriv",value:function(e){return this._deriv.has(e)||this._deriv.set(e,this.derivImpl(e)),this._deriv.get(e)}},{key:"reset",value:function(){this._value=NaN,this._deriv.clear()}}]),e}(),O=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(v.a)(this,Object(f.a)(t).call(this))).arg=void 0,n.arg=e,n}return Object(y.a)(t,e),t}(g),j=function(e){function t(e,n){var a;return Object(o.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this))).left=void 0,a.right=void 0,a.left=e,a.right=n,a}return Object(y.a)(t,e),t}(g),E=function(e){function t(){var e;Object(o.a)(this,t),(e=Object(v.a)(this,Object(f.a)(t).call(this))).terms=void 0;for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e.terms=a,e}return Object(y.a)(t,e),t}(g),k=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(o.a)(this,e),this.name=void 0,this.val=void 0,this.name=t,this.val=n}return Object(h.a)(e,[{key:"bind",value:function(e){this.val=e}},{key:"value",value:function(){return this.val}},{key:"deriv",value:function(e){return e===this?1:0}},{key:"print",value:function(){return this.name}}]),e}(),w=function(e){function t(){return Object(o.a)(this,t),Object(v.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"valueImpl",value:function(){return this.left.value()*this.right.value()}},{key:"derivImpl",value:function(e){return this.left.deriv(e)*this.right.value()+this.left.value()*this.right.deriv(e)}},{key:"print",value:function(){return this.left.print()+" * "+this.right.print()}}]),t}(j),x=function(e){function t(){return Object(o.a)(this,t),Object(v.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"valueImpl",value:function(){return this.terms.reduce((function(e,t){return e+t.value()}),0)}},{key:"derivImpl",value:function(e){return this.terms.reduce((function(t,n){return t+n.deriv(e)}),0)}},{key:"print",value:function(){return"("+this.terms.map((function(e){return e.print()})).join(" + ")+")"}}]),t}(E);function A(e){return isFinite(e)&&e>0?e:Number.MIN_VALUE}function M(e,t){var n=e*t;return 0===n?Math.sign(e)*Math.sign(t)*Number.MIN_VALUE:n}var L=function(e){function t(){return Object(o.a)(this,t),Object(v.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"valueImpl",value:function(){return A(1/(1+Math.exp(-this.arg.value())))}},{key:"derivImpl",value:function(e){var t=this.arg.value(),n=A(1/(Math.exp(t)+2+Math.exp(-t)));return M(this.arg.deriv(e),n)}},{key:"print",value:function(){return"\u03c3("+this.arg.print()+")"}}]),t}(O);L.isSymmetric=!0;var S=function(e){function t(){return Object(o.a)(this,t),Object(v.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"valueImpl",value:function(){var e=this.arg.value(),t=1+Math.exp(e);return isFinite(t)?A(Math.log(t)):e}},{key:"derivImpl",value:function(e){var t=A(1/(1+Math.exp(-this.arg.value())));return M(this.arg.deriv(e),t)}},{key:"print",value:function(){return"ReLU("+this.arg.print()+")"}}]),t}(O);S.isSymmetric=!1;var N=function(e){function t(){return Object(o.a)(this,t),Object(v.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"valueImpl",value:function(){var e=this.left.value()-this.right.value();return e*e}},{key:"derivImpl",value:function(e){return 2*(this.left.value()-this.right.value())*(this.left.deriv(e)-this.right.deriv(e))}},{key:"print",value:function(){return"("+this.left.print()+" - "+this.right.value()+")^2"}}]),t}(j),C=function(){function e(){Object(o.a)(this,e),this.adjustments=void 0,this.velocity=void 0,this.adjustments=[],this.velocity=0}return Object(h.a)(e,[{key:"value",value:function(){return this.get().value()}},{key:"print",value:function(){return this.get().print()}},{key:"study",value:function(e){this.adjustments.push(-this.studyImpl(e))}},{key:"learn",value:function(e,t){if(this.adjustments.length>0){var n=this.adjustments.reduce((function(e,t){return e+t}),0)*e/this.adjustments.length;this.velocity=this.velocity*(1-t)+n,this.learnImpl(this.velocity),this.adjustments=[]}}}]),e}(),I=function(e){function t(e,n){var a;return Object(o.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this))).w=void 0,a.t=void 0,a.w=new k("w"+t.count,n),a.t=new w(a.w,e.get()),++t.count,a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"get",value:function(){return this.w}},{key:"getExpr",value:function(){return this.t}},{key:"studyImpl",value:function(e){return e.deriv(this.w)}},{key:"learnImpl",value:function(e){this.w.bind(this.value()+e)}},{key:"reset",value:function(){this.t.reset()}}]),t}(C);I.count=0;var F=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(v.a)(this,Object(f.a)(t).call(this))).b=void 0,e.b=new k("b"+t.count,0),++t.count,e}return Object(y.a)(t,e),Object(h.a)(t,[{key:"get",value:function(){return this.b}},{key:"getExpr",value:function(){return this.get()}},{key:"studyImpl",value:function(e){return e.deriv(this.b)}},{key:"learnImpl",value:function(e){this.b.bind(this.value()+e)}}]),t}(C);F.count=0;var T=n(19),R=n(10),_=n(11),q=function(){function e(){Object(o.a)(this,e)}return Object(h.a)(e,[{key:"value",value:function(){return this.get().value()}}]),e}(),z=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(v.a)(this,Object(f.a)(t).call(this))).x=void 0,n.x=new k(e),n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"get",value:function(){return this.x}},{key:"print",value:function(){return this.x.print()}},{key:"bind",value:function(e){this.x.bind(e)}}]),t}(q),B=function(e){function t(e){var n;Object(o.a)(this,t),(n=Object(v.a)(this,Object(f.a)(t).call(this))).weights=void 0,n.bias=void 0,n.sum=void 0,n.exp=void 0;for(var a=arguments.length,r=new Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];n.weights=r,n.bias=new F;var u=n.weights.map((function(e){return e.getExpr()}));return n.sum=Object(R.a)(x,Object(_.a)(u).concat([n.bias.getExpr()])),n.exp=new e(n.sum),n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"get",value:function(){return this.exp}},{key:"print",value:function(){return"["+this.weights.map((function(e){return e.value()})).join(" ")+"] "+this.bias.value()}},{key:"getWeight",value:function(e){return this.weights[e]}},{key:"getBias",value:function(){return this.bias}},{key:"study",value:function(e){this.weights.forEach((function(t){return t.study(e)})),this.bias.study(e)}},{key:"learn",value:function(e,t){this.weights.forEach((function(n){return n.learn(e,t)})),this.bias.learn(e,t)}},{key:"reset",value:function(){this.exp.reset(),this.sum.reset(),this.weights.forEach((function(e){return e.reset()}))}}]),t}(q),W=function(e){function t(){return Object(o.a)(this,t),Object(v.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(y.a)(t,e),t}(B),D=function(e){function t(e,n,a){var r,i;Object(o.a)(this,t);for(var u=arguments.length,l=new Array(u>3?u-3:0),s=3;s<u;s++)l[s-3]=arguments[s];return(i=Object(v.a)(this,(r=Object(f.a)(t)).call.apply(r,[this,n].concat(l)))).y=void 0,i.err=void 0,i.y=new k(e),i.err=new a(i.get(),i.y),i}return Object(y.a)(t,e),Object(h.a)(t,[{key:"getErr",value:function(){return this.err}},{key:"valueErr",value:function(){return this.getErr().value()}},{key:"printErr",value:function(){return this.getErr().print()}},{key:"bind",value:function(e){this.y.bind(e)}},{key:"reset",value:function(){Object(T.a)(Object(f.a)(t.prototype),"reset",this).call(this),this.err.reset()}}]),t}(B),U=n(17);function X(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=new Array(e).fill(0),t[n][n]=1;return t}function G(e){var t=e-1,n=1<<t,a=new Array(e),r=1/Math.sqrt(e);a[t]=new Array(n).fill(-r);for(var i=0;i<t;++i){var u=1<<i;a[i]=new Array(u).fill(-r).concat(new Array(u).fill(r));for(var l=i+1;l<t;++l)a[i]=a[i].concat(a[i])}return a}function H(e,t,n){for(var a=n?function(e){var t=V(X(e),G(e));return V(t,t.map((function(e){return e.map((function(e){return-e}))})))}(e):function(e){return V(X(e),G(e))}(e),r=[];r.length<t;)r=r.concat(J(Q(a,0)));return r.slice(0,t)}function J(e){for(var t=e[0].length,n=new Array(t),a=0;a<t;++a)n[a]=Y(e,a);return n}function V(e,t){return e.map((function(e,n){return e.concat(t[n])}))}function K(e,t){for(var n=e.length,a=t.length,r=t[0].length,i=new Array(n),u=0;u<n;++u){i[u]=new Array(r).fill(0);for(var l=0;l<r;++l)for(var s=0;s<a;++s)i[u][l]+=e[u][s]*t[s][l]}return i}function P(e,t,n){if(t>n)return P(e,n,t);var a=X(e);return a[t][t]=Math.random(),a[n][n]=a[t][t],a[n][t]=Math.sqrt(1-a[t][t]*a[t][t]),a[t][n]=-a[n][t],a}function Q(e,t){for(var n=e.length,a=new Array(n-1),r=0;r<t;++r)a[r]=P(n,t,r);for(var i=t+1;i<n;++i)a[i-1]=P(n,t,i);return K(a.reduce((function(e,t){return K(e,t)}),X(n)),e)}function Y(e,t){return e.map((function(e){return e[t]}))}var Z=function(){function e(){Object(o.a)(this,e)}return Object(h.a)(e,[{key:"print",value:function(){return"[\n"+this.get().map((function(e){return"\t"+e.print()})).join("\n")+"\n]"}},{key:"size",value:function(){return this.get().length}}]),e}(),$=function(e){function t(){var e;Object(o.a)(this,t),(e=Object(v.a)(this,Object(f.a)(t).call(this))).neurons=void 0,e.neurons=new Map;for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];for(var i=0,u=a;i<u.length;i++){var l=u[i];e.neurons.set(l,new z(l))}return e}return Object(y.a)(t,e),Object(h.a)(t,[{key:"get",value:function(){return Array.from(this.neurons.values())}},{key:"getNeuron",value:function(e){return this.neurons.get(e)}},{key:"values",value:function(){var e=new Map,t=!0,n=!1,a=void 0;try{for(var r,i=this.neurons[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var u=r.value,l=Object(U.a)(u,2),s=l[0],c=l[1];e.set(s,c.value())}}catch(o){n=!0,a=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}return e}},{key:"bind",value:function(e){var t=!0,n=!1,a=void 0;try{for(var r,i=this.neurons[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var u,l=r.value,s=Object(U.a)(l,2),c=s[0];s[1].bind(null!==(u=e.get(c))&&void 0!==u?u:0)}}catch(o){n=!0,a=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}}}]),t}(Z),ee=function(e){function t(){return Object(o.a)(this,t),Object(v.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"study",value:function(e){this.get().forEach((function(t){return t.study(e)}))}},{key:"learn",value:function(e,t){this.get().forEach((function(n){return n.learn(e,t)}))}},{key:"reset",value:function(){this.get().forEach((function(e){return e.reset()}))}}]),t}(Z),te=function(e){function t(e,n,a){var r;Object(o.a)(this,t),(r=Object(v.a)(this,Object(f.a)(t).call(this))).neurons=void 0,r.neurons=[];for(var i=e.get(),u=H(i.length,a,!n.isSymmetric),l=function(e){r.neurons.push(Object(R.a)(W,[n].concat(Object(_.a)(i.map((function(t,n){return new I(t,u[e][n])}))))))},s=0;s<a;++s)l(s);return r}return Object(y.a)(t,e),Object(h.a)(t,[{key:"get",value:function(){return this.neurons}},{key:"getNeuron",value:function(e){return this.neurons[e]}},{key:"getWeight",value:function(e,t){return this.neurons[e].getWeight(t)}},{key:"getBias",value:function(e){return this.neurons[e].getBias()}},{key:"values",value:function(){return this.neurons.map((function(e){return e.value()}))}}]),t}(ee),ne=function(e){function t(e,n,a){var r,i=arguments;Object(o.a)(this,t),(r=Object(v.a)(this,Object(f.a)(t).call(this))).neurons=void 0,r.err=void 0,r.neurons=new Map;for(var u=e.get(),l=H(u.length,arguments.length<=3?0:arguments.length-3,!n.isSymmetric),s=function(e){r.neurons.set(e+3<3||i.length<=e+3?void 0:i[e+3],Object(R.a)(D,[e+3<3||i.length<=e+3?void 0:i[e+3],n,a].concat(Object(_.a)(u.map((function(t,n){return new I(t,l[e][n])}))))))},c=0;c<(arguments.length<=3?0:arguments.length-3);++c)s(c);return r.err=Object(R.a)(x,Object(_.a)(Array.from(r.neurons.values()).map((function(e){return e.getErr()})))),r}return Object(y.a)(t,e),Object(h.a)(t,[{key:"get",value:function(){return Array.from(this.neurons.values())}},{key:"getNeuron",value:function(e){return this.neurons.get(e)}},{key:"getWeight",value:function(e,t){var n;return null===(n=this.neurons.get(e))||void 0===n?void 0:n.getWeight(t)}},{key:"getBias",value:function(e){var t;return null===(t=this.neurons.get(e))||void 0===t?void 0:t.getBias()}},{key:"getErr",value:function(){return this.err}},{key:"valueErr",value:function(){return this.getErr().value()}},{key:"printErr",value:function(){return this.getErr().print()}},{key:"values",value:function(){var e=new Map,t=!0,n=!1,a=void 0;try{for(var r,i=this.neurons[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var u=r.value,l=Object(U.a)(u,2),s=l[0],c=l[1];e.set(s,c.value())}}catch(o){n=!0,a=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}return e}},{key:"bind",value:function(e){var t=!0,n=!1,a=void 0;try{for(var r,i=this.neurons[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var u,l=r.value,s=Object(U.a)(l,2),c=s[0];s[1].bind(null!==(u=e.get(c))&&void 0!==u?u:0)}}catch(o){n=!0,a=o}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}}},{key:"reset",value:function(){Object(T.a)(Object(f.a)(t.prototype),"reset",this).call(this),this.err.reset()}}]),t}(ee),ae=function(){function e(){Object(o.a)(this,e),this.inputLayer=void 0,this.hiddenLayers=void 0,this.outputLayer=void 0,this.studied=void 0,this.studied=[];var t=this.source(1)[0],n=t.input,a=t.output,r=Array.from(n.keys()),i=Array.from(a.keys());this.inputLayer=Object(R.a)($,Object(_.a)(r)),this.hiddenLayers=[];var u=this.inputLayer,l=!0,s=!1,c=void 0;try{for(var h,v=this.hiddenSizes()[Symbol.iterator]();!(l=(h=v.next()).done);l=!0){var f=h.value;this.hiddenLayers.push(new te(u,this.Act(),f)),u=this.hiddenLayers[this.hiddenLayers.length-1]}}catch(y){s=!0,c=y}finally{try{l||null==v.return||v.return()}finally{if(s)throw c}}this.outputLayer=Object(R.a)(ne,[u,this.Act(),this.Err()].concat(Object(_.a)(i)))}return Object(h.a)(e,[{key:"print",value:function(){return this.hiddenLayers.map((function(e){return e.print()})).join("\n")+"\n"+this.outputLayer.print()}},{key:"getInputLayer",value:function(){return this.inputLayer}},{key:"getHiddenLayer",value:function(e){return this.hiddenLayers[e]}},{key:"getOutputLayer",value:function(){return this.outputLayer}},{key:"getErr",value:function(){return this.outputLayer.getErr()}},{key:"valueErr",value:function(){return this.outputLayer.valueErr()}},{key:"printErr",value:function(){return this.outputLayer.printErr()}},{key:"avgErr",value:function(){return this.studied.reduce((function(e,t){return e+t.err}),0)/this.studied.length}},{key:"bind",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.reset(),this.inputLayer.bind(e),t&&this.outputLayer.bind(t)}},{key:"getOutput",value:function(e){return this.bind(e),this.outputLayer.values()}},{key:"study",value:function(e){var t=this;this.studied=this.source(e).map((function(e){t.bind(e.input,e.output);var n=t.outputLayer.getErr();return t.hiddenLayers.forEach((function(e){return e.study(n)})),t.outputLayer.study(n),{sample:e,err:n.value()}}))}},{key:"learn",value:function(e,t){this.hiddenLayers.forEach((function(n){return n.learn(e,t)})),this.outputLayer.learn(e,t)}},{key:"reset",value:function(){this.hiddenLayers.forEach((function(e){return e.reset()})),this.outputLayer.reset()}}]),e}(),re=function(e){function t(){return Object(o.a)(this,t),Object(v.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"rsq",value:function(){var e=this,t=this.tests();return t.reduce((function(t,n){var a=n.input,r=n.output;return e.bind(a,r),t+e.valueErr()}),0)/t.length}}]),t}(ae),ie=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(v.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).cachedTests=[{input:new Map([["x",0]]),output:new Map([["y",42]])},{input:new Map([["x",1]]),output:new Map([["y",42]])}],n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"source",value:function(e){this.studied.sort((function(e,t){return t.err-e.err}));var t=this.studied.slice(0,e/2).map((function(e){return e.sample}));console.log(t);for(var n=t.length;n<e;++n)t.push({input:new Map([["x",Math.random()]]),output:new Map([["y",42]])});return t}},{key:"Act",value:function(){return S}},{key:"Err",value:function(){return N}},{key:"hiddenSizes",value:function(){return[]}},{key:"tests",value:function(){return this.cachedTests}},{key:"m",value:function(){return this.getOutputLayer().getWeight("y",0).value()}},{key:"b",value:function(){return this.getOutputLayer().getBias("y").value()}},{key:"value",value:function(e){return this.getOutput(new Map([["x",e]])).get("y")}}]),t}(re),ue=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(v.a)(this,Object(f.a)(t).call(this,e))).net=void 0,n.state=void 0,n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(c.a)({},a,r))},n.handleSubmit=function(e){for(var t=0;t<e.generations;++t)n.train(e.samples,e.sensitivity,e.friction)},n.net=new ie,n.state={data:[{m:n.net.m(),b:n.net.b(),r:void 0}],input:0},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"train",value:function(e,t,n){this.net.study(e);var a=this.net.rsq(),r=this.state.data;this.net.learn(t,n),r[r.length-1].r=Math.sqrt(a),r.push({m:this.net.m(),b:this.net.b(),r:void 0}),this.setState({data:r})}},{key:"render",value:function(){var e=this.state,t=e.data,n=e.input,a=NaN;return isFinite(n)&&(a=this.net.value(n)),r.a.createElement("div",{className:"Asteria42"},r.a.createElement("h2",null,"About"),r.a.createElement("p",null,"Asteria wants to learn the answer to life, the universe, and everything, but she needs your help!",r.a.createElement("br",null),"Asteria is the simplest possible neural network: a single input neuron linked to a single output neuron.",r.a.createElement("br",null),"She has no hidden layers, so Asteria is really just a linear relation passed through an activation function (softplus).",r.a.createElement("br",null),"The full equation for Asteria is y=ReLU(mx+b). Her initial state is y=ReLU(mx), where m ranges randomly between -1 and 1.",r.a.createElement("br",null),"Asteria will be trained to minimize R^2, the mean of (y-42)^2 over randomly-sampled values of x ranging from 0 to 1."),r.a.createElement("h2",null,"Testing"),r.a.createElement("p",null,"If she has learned well, Asteria should output 42 no matter what input we give her. Test it out here!"),r.a.createElement("label",null,"x="),r.a.createElement("input",{type:"number",name:"input",value:n,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"y="),r.a.createElement("input",{readOnly:!0,type:"text",name:"output",value:a}),r.a.createElement("h2",null,"Training"),r.a.createElement("p",null,"We want Asteria to ultimately settle on y=42~ReLU(42), where m=0 and b=42.",r.a.createElement("br",null),"To determine how to adjust m and b, Asteria samples values of x between 0 to 1 (you decide how many) and does fancy backpropagation.",r.a.createElement("br",null),"Sensitivity determines the strength of the adjustments to m and b in each generation of Asteria.",r.a.createElement("br",null),"Friction determines how much of the previous adjustment Asteria repeats in the next generation.",r.a.createElement("br",null),"If sensitivity is negative, Asteria will try to maximize error instead of minimizing it.",r.a.createElement("br",null),"If sensitivity is too large or friction is too low, Asteria will overshoot on her adjustments and fail to settle anywhere."),r.a.createElement(p,{handleSubmit:this.handleSubmit}),r.a.createElement(b,{data:t}))}}]),t}(a.Component);function le(){return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"G"),r.a.createElement("th",null,"R")))}function se(e){var t=e.data.map((function(e,t){var n=e.r;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),r.a.createElement("td",null,null!==n&&void 0!==n?n:""))})).reverse();return r.a.createElement("tbody",null,t)}var ce=function(e){var t=e.data;return r.a.createElement("table",null,r.a.createElement(le,null),r.a.createElement(se,{data:t}))},oe=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(v.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).cachedTests=function(){for(var e=[],t=0;t<=1;t+=.1)for(var n=0;n<=1;n+=.1){var a=t>.5&&n>.5?0:1;e.push({input:new Map([["x",t],["y",n]]),output:new Map([["xNANDy",a]])})}return e}(),n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"source",value:function(e){this.studied.sort((function(e,t){return t.err-e.err}));for(var t=e/4,n=this.studied.slice(t,2*t).map((function(e){return e.sample})),a=n.length;a<e;++a){var r=Math.random(),i=Math.random(),u=r>.5&&i>.5?0:1;n.push({input:new Map([["x",r],["y",i]]),output:new Map([["xNANDy",u]])})}return n}},{key:"Act",value:function(){return L}},{key:"Err",value:function(){return N}},{key:"hiddenSizes",value:function(){return[2]}},{key:"tests",value:function(){return this.cachedTests}},{key:"value",value:function(e,t){return this.getOutput(new Map([["x",e],["y",t]])).get("xNANDy")}}]),t}(re),he=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(v.a)(this,Object(f.a)(t).call(this,e))).net=void 0,n.state=void 0,n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(c.a)({},a,r))},n.handleSubmit=function(e){for(var t=0;t<e.generations;++t)n.train(e.samples,e.sensitivity,e.friction);console.log(n.net.print())},n.net=new oe,n.state={data:[{r:void 0}],x:0,y:0},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"train",value:function(e,t,n){this.net.study(e);var a=this.net.rsq(),r=this.state.data;r[r.length-1].r=Math.sqrt(a),this.net.learn(t,n),r.push({r:void 0}),this.setState({data:r})}},{key:"render",value:function(){var e=this.state,t=e.data,n=e.x,a=e.y,i=NaN;return isFinite(n)&&isFinite(a)&&(i=this.net.value(n,a)),r.a.createElement("div",{className:"Asteria42"},r.a.createElement("h2",null,"Testing"),r.a.createElement("label",null,"x"),r.a.createElement("input",{type:"number",name:"x",value:n,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"y"),r.a.createElement("input",{type:"number",name:"y",value:a,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Output"),r.a.createElement("input",{readOnly:!0,type:"text",name:"output",value:i}),r.a.createElement("h2",null,"Training"),r.a.createElement(p,{handleSubmit:this.handleSubmit}),r.a.createElement(ce,{data:t}))}}]),t}(a.Component);function ve(){return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"G"),r.a.createElement("th",null,"R")))}function fe(e){var t=e.data.map((function(e,t){var n=e.r;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),r.a.createElement("td",null,null!==n&&void 0!==n?n:""))})).reverse();return r.a.createElement("tbody",null,t)}var ye=function(e){var t=e.data;return r.a.createElement("table",null,r.a.createElement(ve,null),r.a.createElement(fe,{data:t}))},de=function(e){function t(){return Object(o.a)(this,t),Object(v.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"source",value:function(e){for(var t=[],n=0;n<e;++n){var a=Math.random(),r=Math.random(),i=a>.5===r>.5?0:1;t.push({input:new Map([["x",a],["y",r]]),output:new Map([["xXORy",i]])})}return t}},{key:"Act",value:function(){return L}},{key:"Err",value:function(){return N}},{key:"hiddenSizes",value:function(){return[4,4,4,2]}},{key:"value",value:function(e,t){return this.getOutput(new Map([["x",e],["y",t]])).get("xXORy")}}]),t}(ae),me=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(v.a)(this,Object(f.a)(t).call(this,e))).net=void 0,n.state=void 0,n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(c.a)({},a,r))},n.handleSubmit=function(e){for(var t=0;t<e.generations;++t)n.train(e.samples,e.sensitivity,e.friction);console.log(n.net.print())},n.net=new de,n.state={data:[{r:void 0}],x:0,y:0},n}return Object(y.a)(t,e),Object(h.a)(t,[{key:"train",value:function(e,t,n){this.net.study(e);var a=this.net.avgErr(),r=this.state.data;r[r.length-1].r=a,this.net.learn(t,n),r.push({r:void 0}),this.setState({data:r})}},{key:"render",value:function(){var e=this.state,t=e.data,n=e.x,a=e.y,i=NaN;return isFinite(n)&&isFinite(a)&&(i=this.net.value(n,a)),r.a.createElement("div",{className:"Asteria42"},r.a.createElement("h2",null,"Testing"),r.a.createElement("label",null,"x"),r.a.createElement("input",{type:"number",name:"x",value:n,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"y"),r.a.createElement("input",{type:"number",name:"y",value:a,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Output"),r.a.createElement("input",{readOnly:!0,type:"text",name:"output",value:i}),r.a.createElement("h2",null,"Training"),r.a.createElement(p,{handleSubmit:this.handleSubmit}),r.a.createElement(ye,{data:t}))}}]),t}(a.Component);var be=function(){return r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement("nav",null,"[",r.a.createElement(l.b,{to:"/Asteria/42"},"42"),"] [",r.a.createElement(l.b,{to:"/Asteria/NAND"},"NAND"),"] [",r.a.createElement(l.b,{to:"/Asteria/XOR"},"XOR"),"]")),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/Asteria/42"},r.a.createElement(ue,null)),r.a.createElement(s.a,{path:"/Asteria/NAND"},r.a.createElement(he,null)),r.a.createElement(s.a,{path:"/Asteria/XOR"},r.a.createElement(me,null))))};u.a.render(r.a.createElement(be,null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.0f84bb56.chunk.js.map