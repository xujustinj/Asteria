(this.webpackJsonpasteria=this.webpackJsonpasteria||[]).push([[0],{14:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(8),l=n.n(i),u=n(6),s=n(1),c=n(2),h=n(4),o=n(3),m=n(5);function v(){return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"G"),r.a.createElement("th",null,"m"),r.a.createElement("th",null,"b"),r.a.createElement("th",null,"R")))}function b(e){return r.a.createElement("tbody",null,e.data.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),r.a.createElement("td",null,e.m),r.a.createElement("td",null,e.b),r.a.createElement("td",null,e.r))})))}var p=function(e){var t=e.data;return r.a.createElement("table",null,r.a.createElement(v,null),r.a.createElement(b,{data:t}))},f=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(h.a)(this,Object(o.a)(t).call(this,e))).handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(u.a)({},a,r))},n.submitForm=function(){n.props.handleSubmit(n.state)},n.state={samples:"",sensitivity:""},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.samples,n=e.sensitivity;return r.a.createElement("form",null,r.a.createElement("label",null," Samples "),r.a.createElement("input",{type:"number",name:"samples",value:t,min:"1",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null," Sensitivity "),r.a.createElement("input",{type:"number",name:"sensitivity",value:n,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("input",{type:"button",value:"Submit",onClick:this.submitForm}))}}]),t}(a.Component),d=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"value",value:function(){throw new Error("Cannot call abstract method!")}},{key:"deriv",value:function(e){throw new Error("Cannot call abstract method!")}},{key:"print",value:function(){throw new Error("Cannot call abstract method!")}}]),e}(),y=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r))))._value=null,n._deriv=new Map,n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"value",value:function(){return null===this._value&&(this._value=this.valueImpl()),this._value}},{key:"valueImpl",value:function(e){throw new Error("Cannot call abstract method!")}},{key:"deriv",value:function(e){return this._deriv.has(e)||this._deriv.set(e,this.derivImpl(e)),this._deriv.get(e)}},{key:"derivImpl",value:function(e){throw new Error("Cannot call abstract method!")}},{key:"reset",value:function(){this._value=null,this._deriv=new Map}}]),t}(d),E=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(h.a)(this,Object(o.a)(t).call(this))).name=e,a.val=n,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"bind",value:function(e){this.val=e}},{key:"value",value:function(){return this.val}},{key:"deriv",value:function(e){return e===this.name?1:0}},{key:"print",value:function(){return this.name}}]),t}(d),j=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(h.a)(this,Object(o.a)(t).call(this))).left=e,a.right=n,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"valueImpl",value:function(){return this.left.value()*this.right.value()}},{key:"derivImpl",value:function(e){return this.left.deriv(e)*this.right.value()+this.left.value()*this.right.deriv(e)}},{key:"print",value:function(){return this.left.print()+" * "+this.right.print()}}]),t}(y),O=function(e){function t(){var e;Object(s.a)(this,t),e=Object(h.a)(this,Object(o.a)(t).call(this));for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e.terms=a,e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"valueImpl",value:function(){return this.terms.reduce((function(e,t){return e+t.value()}),0)}},{key:"derivImpl",value:function(e){return this.terms.reduce((function(t,n){return t+n.deriv(e)}),0)}},{key:"print",value:function(){return"("+this.terms.map((function(e){return e.print()})).join(" + ")+")"}}]),t}(y),g=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(h.a)(this,Object(o.a)(t).call(this))).actual=e,a.expect=n,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"valueImpl",value:function(){var e=this.actual.value()-this.expect.value();return e*e}},{key:"derivImpl",value:function(e){return 2*(this.actual.value()-this.expect.value())*(this.actual.deriv(e)-this.expect.deriv(e))}},{key:"print",value:function(){return"("+this.actual.print()+" - "+this.expect.value()+")^2"}}]),t}(y),k=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(h.a)(this,Object(o.a)(t).call(this))).arg=e,n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"valueImpl",value:function(){var e=this.arg.value(),t=1+Math.exp(e);return isFinite(t)?Math.log(t):e}},{key:"derivImpl",value:function(e){var t=this.arg.value(),n=1/(1+Math.exp(-t));return(n=isFinite(n)?n:0)*this.arg.deriv(e)}},{key:"print",value:function(){return"ReLU("+this.arg.print()+")"}}]),t}(y),w=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(h.a)(this,Object(o.a)(t).call(this))).handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(u.a)({},a,r))},e.x=new E("x",0),e.m=new E("m",1),e.b=new E("b",0),e.e=new E("expect",42),e.expressions=[],e.expressions[0]=new j(e.m,e.x),e.expressions[1]=new O(e.expressions[0],e.b),e.y=new k(e.expressions[1]),e.expressions[2]=e.y,e.r=new g(e.y,e.e),e.expressions[3]=e.r,e.state={data:[{m:1,b:0,r:""}],input:0},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"train",value:function(e,t){if(isFinite(e)&&isFinite(t)&&!(e<=0)){var n=this.state.data,a=n[n.length-1],r=a.m,i=a.b;this.m.bind(r),this.b.bind(i);for(var l=0,u=0,s=0,c=0;c<e;++c)this.x.bind(Math.random()),l+=this.r.deriv("m"),u+=this.r.deriv("b"),s+=this.r.value(),this.expressions.forEach((function(e){e.reset()}));r-=l*t/e,i-=u*t/e,n[n.length-1].r=Math.sqrt(s/e),n.push({m:r,b:i,r:""}),this.setState({data:n})}}},{key:"render",value:function(){var e=this,t=this.state.data,n=t[t.length-1],a=n.m,i=n.b;this.m.bind(a),this.b.bind(i);var l=this.state.input,u="";return isFinite(l)&&(this.x.bind(l),u=this.y.value()),this.expressions.forEach((function(e){e.reset()})),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Asteria"),r.a.createElement("p",null,"Asteria wants to learn the answer to life, the universe, and everything, but she needs your help!")),r.a.createElement("h2",null,"About"),r.a.createElement("p",null,"Asteria is the simplest possible neural network: a single input neuron linked to a single output neuron.",r.a.createElement("br",null),"She has no hidden layers, so Asteria is really just a linear relation passed through an activation function (softplus).",r.a.createElement("br",null),"The full equation for Asteria is y=ReLU(mx+b). Her initial state is y=ReLU(x), where m=1 and b=0.",r.a.createElement("br",null),"Asteria will be trained to minimize R^2, the mean of (y-42)^2 over randomly-sampled values of x ranging from 0 to 1.",r.a.createElement("br",null)),r.a.createElement("h2",null,"Testing"),r.a.createElement("p",null,"If she has learned well, Asteria should output 42 no matter what input we give her. Test it out here!"),r.a.createElement("label",null,"Input"),r.a.createElement("input",{type:"number",name:"input",value:l,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Output"),r.a.createElement("input",{readOnly:!0,type:"text",name:"output",value:u}),r.a.createElement("h2",null,"Training"),r.a.createElement(f,{handleSubmit:function(t){e.train(t.samples,t.sensitivity)}}),r.a.createElement(p,{data:t}))}}]),t}(a.Component);l.a.render(r.a.createElement(w,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(14)}},[[9,1,2]]]);
//# sourceMappingURL=main.4f8c1ca5.chunk.js.map