{"version":3,"sources":["img/github-logo-and-text.png","Welcome.tsx","Test.tsx","Train.tsx","Table.tsx","Asteria.tsx","matrices/matrix.ts","matrices/standard.ts","matrices/operations.ts","matrices/rotations.ts","neural/layers.ts","neural/network.ts","neural/activations.ts","neural/logistic.ts","neural/softplus.ts","asteria42/Network42.ts","asteria42/Asteria42.tsx","asteriaXOR/NetworkXOR.ts","asteriaXOR/AsteriaXOR.tsx","asteriaNAND/NetworkNAND.ts","asteriaNAND/AsteriaNAND.tsx","App.tsx","index.tsx"],"names":["module","exports","Welcome","useState","activeIndices","setActiveIndices","handleClick","_e","props","index","Number","console","log","newIndices","_activeIndices","Accordion","Title","active","onClick","Icon","name","Content","href","Test","net","state","network","inputs","inputLayer","binding","set","outputs","output","event","target","value","this","setState","inputsTSX","push","key","input","type","onChange","handleInput","bind","outputsTSX","readOnly","className","Component","Train","samples","sensitivity","friction","generations","onTrain","isFinite","min","handleChange","submitForm","TableHeader","names","map","header","TableBody","rows","row","values","get","Table","Array","from","keys","g","Asteria","makeRow","Map","makeRowExtras","r","i","study","learn","unshift","length","TestingContents","TrainingContents","Testing","Training","SymMatrix","entries","size","undefined","j","other","forEach","otherRow","entry","join","AsymMatrix","height","width","transpose","h","w","t","otherEntry","standardBasis","dim","scale","basis","fill","dot","v","u","reduce","acc","n","multMM","a","b","cols","col","randomRotation","planes","x","y","cos","Math","random","sin","sqrt","randomRotate","matrix","even","half","z","planess","pop","shift","reduceRight","fill1D","Layer","_adjustments","_sensitivity","_friction","InputLayer","_names","_value","has","TrainableLayer","prev","vw","aw","vb","ab","_preAF","count","vectors","concat","slice","orthoVectors","arr","fill2D","preAF","actValue","adjustments","d","actDeriv","m","c","multMtV","add","reset","HiddenLayer","to","OutputLayer","_expec","err","vals","indexOf","Network","_inputLayer","_hiddenLayers","_outputLayer","studied","source","inputNames","outputNames","hiddenSizes","makeHiddenLayer","makeOutputLayer","print","error","sample","studyBindings","TestableNetwork","tests","rsq","positive","MIN_VALUE","Logistic","exp","LogisticHiddenLayer","deriv","LogisticOutputLayer","Softplus","SoftplusHiddenLayer","SoftplusOutputLayer","Network42","cachedTests","sort","Neural","outputLayer","weight","bias","Asteria42","_net","NetworkXOR","xXORy","quarter","AsteriaXOR","NetworkNAND","xNANDy","AsteriaNAND","routes","path","inLeftbar","heading","main","asteria","Leftbar","visible","Sidebar","as","Menu","animation","direction","icon","inverted","vertical","route","exact","filter","Item","Link","Button","Image","src","githubImage","App","leftbar","setLeftbar","onMouseOver","Pushable","Segment","Pusher","dimmed","Container","text","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.737db8d3.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React, { useState } from 'react';\r\nimport { Accordion, Icon, AccordionTitleProps } from 'semantic-ui-react';\r\n\r\nconst Welcome = () => {\r\n    const [activeIndices, setActiveIndices] = useState([true, false, false, false]);\r\n\r\n    const handleClick = (_e: React.MouseEvent<HTMLDivElement, MouseEvent>, props: AccordionTitleProps) => {\r\n        const index: number = Number(props.index);\r\n        console.log(activeIndices);\r\n        let newIndices: boolean[] = [...activeIndices];\r\n        newIndices[index] = !newIndices[index];\r\n        console.log(newIndices)\r\n        setActiveIndices(_activeIndices => newIndices);\r\n    }\r\n\r\n    return (\r\n      <Accordion>\r\n        <Accordion.Title\r\n          active={activeIndices[0]}\r\n          index={0}\r\n          onClick={handleClick}\r\n        >\r\n          <Icon name='dropdown' />\r\n          What is Asteria?\r\n        </Accordion.Title>\r\n        <Accordion.Content active={activeIndices[0]}>\r\n          <p>Asteria is the product of a ongoing adventure into the world of machine learning. The goal: to have a tool that can identify and translate <a href=\"https://madeon.fandom.com/wiki/Adventure_alphabet\">Madeon's Adventure alphabet</a> on the fly (hence the name Asteria). By no means is Asteria anywhere near that goal, nor am I making a direct beeline for it. I'm taking a winding path that will hopefully maximize the amount I can learn from this project.</p>\r\n          <p><b>Click \"Asteria\" in the top left corner to open the sidebar. There are 3 small-scale demonstrations of Asteria's learning power that probably won't melt your CPUs. Enjoy!</b></p>\r\n        </Accordion.Content>\r\n\r\n        <Accordion.Title\r\n          active={activeIndices[1]}\r\n          index={1}\r\n          onClick={handleClick}\r\n        >\r\n          <Icon name='dropdown' />\r\n          Where has the adventure taken you so far?\r\n        </Accordion.Title>\r\n        <Accordion.Content active={activeIndices[1]}>\r\n          <p>So far, I have:</p>\r\n          <ul>\r\n            <li>built an <b>object-oriented multilayer perceptron</b> library in <b>TypeScript</b></li>\r\n            <li>implemented <b>symbolic differentiation</b> (deprecated)</li>\r\n            <li>re-derived and implemented the matrix shortcuts for computing <b>backpropagation</b></li>\r\n            <li>added <b>momentum</b> and <b>orthogonal initialization</b> to speed up learning</li>\r\n            <li>built this website with <b>React</b> and <b>React Router</b></li>\r\n            <li>re-learned <b>CSS</b> via <b>SASS (scss)</b></li>\r\n            <li>attempted to make use of the still-unstable <b>Semantic UI React</b></li>\r\n          </ul>\r\n        </Accordion.Content>\r\n\r\n        <Accordion.Title\r\n          active={activeIndices[2]}\r\n          index={2}\r\n          onClick={handleClick}\r\n        >\r\n          <Icon name='dropdown' />\r\n          Acknowledgements\r\n        </Accordion.Title>\r\n        <Accordion.Content active={activeIndices[2]}>\r\n          <p>Special thanks to:</p>\r\n          <ul>\r\n            <li><b>Grant Sanderson (3Blue1Brown)</b> for making the <a href=\"https://www.youtube.com/playlist?list=PLZHQObOWTQDNU6R1_67000Dx_ZCJB-3pi\">videos</a> that kicked off this adventure</li>\r\n            <li><b>TwoNineFive</b> for the putting together the <a href=\"https://fontmeme.com/fonts/madeon-runes-font/\">lovely font</a> that's dotted around this site</li>\r\n          </ul>\r\n        </Accordion.Content>\r\n\r\n        <Accordion.Title\r\n          active={activeIndices[3]}\r\n          index={3}\r\n          onClick={handleClick}\r\n        >\r\n          <Icon name='dropdown' />\r\n          Why on Earth did you write the library in TypeScript?\r\n        </Accordion.Title>\r\n        <Accordion.Content active={activeIndices[3]}>\r\n          <p>Why not? As long as I'm learning something new, the choice is justified.</p>\r\n        </Accordion.Content>\r\n      </Accordion>\r\n    )\r\n}\r\n\r\nexport default Welcome;\r\n","import React, { Component } from \"react\";\r\nimport { TestableNetwork } from \"./neural\";\r\n\r\ntype TestProps = {\r\n    network: TestableNetwork;\r\n}\r\n\r\nclass Test extends Component<TestProps> {\r\n    net: TestableNetwork;\r\n    state: {\r\n        inputs: Map<string, number>;\r\n        outputs: Map<string, number>;\r\n    }\r\n\r\n    constructor(props: TestProps) {\r\n        super(props);\r\n\r\n        this.net = props.network;\r\n        const inputs = this.net.inputLayer().binding();\r\n        for (const [name] of inputs) {\r\n            inputs.set(name, 0);\r\n        }\r\n        this.state = {\r\n            inputs: inputs,\r\n            outputs: this.net.output(inputs),\r\n        }\r\n    }\r\n\r\n    handleInput(event: { target: { name: string; value: any; }; }) {\r\n        const { name, value } = event.target;\r\n        const { inputs } = this.state;\r\n        inputs.set(name, value);\r\n        this.setState({ inputs: inputs, outputs: this.net.output(inputs) });\r\n    }\r\n\r\n    render() {\r\n      const input: string = \"input\";\r\n      const output: string = \"output\";\r\n\r\n      let inputsTSX: JSX.Element[] = [];\r\n      for (const [name, value] of this.state.inputs) {\r\n          inputsTSX.push(\r\n            <div key={input + \"-\" + name}>\r\n            <label>{name}=</label>\r\n            <input\r\n              type=\"number\"\r\n              name={name}\r\n              value={value}\r\n              onChange={this.handleInput.bind(this)} />\r\n            </div>\r\n          );\r\n      }\r\n\r\n      let outputsTSX: JSX.Element[] = [];\r\n      for (const [name, value] of this.state.outputs) {\r\n          outputsTSX.push(\r\n            <div key={output + \"-\" + name}>\r\n            <label>{name}=</label>\r\n            <input readOnly\r\n              type=\"number\"\r\n              name={name}\r\n              value={value}/>\r\n            </div>\r\n          );\r\n      }\r\n\r\n      return (\r\n        <form className=\"Test\">\r\n          <h3>Inputs</h3>\r\n          {inputsTSX}\r\n          <h3>Outputs</h3>\r\n          {outputsTSX}\r\n        </form>\r\n      );\r\n    }\r\n}\r\n\r\nexport default Test;\r\n","import React, { Component } from \"react\";\r\n\r\ntype TrainProps = {\r\n    onTrain: (\r\n        samples: number,\r\n        sensitivity: number,\r\n        friction: number,\r\n        generations: number\r\n    ) => void;\r\n};\r\n\r\nclass Train extends Component<TrainProps> {\r\n    state: {\r\n        samples: number;\r\n        sensitivity: number;\r\n        friction: number;\r\n        generations: number;\r\n    };\r\n\r\n    constructor(props: TrainProps) {\r\n        super(props);\r\n        this.state = {\r\n            samples: 1,\r\n            sensitivity: 1,\r\n            friction: 1,\r\n            generations: 1,\r\n        };\r\n    }\r\n\r\n    handleChange(event: { target: { name: string; value: any; }; }) {\r\n        const { name, value } = event.target;\r\n        this.setState({ [name]: value });\r\n    }\r\n\r\n    submitForm() {\r\n        const { samples, sensitivity, friction, generations, } = this.state;\r\n        this.props.onTrain(samples, sensitivity, friction, generations);\r\n    }\r\n\r\n    render() {\r\n        const { samples, sensitivity, friction, generations, } = this.state;\r\n        return (\r\n          <form className=\"Train\">\r\n            <label>Samples</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"samples\"\r\n              value={isFinite(samples) ? samples : \"\"}\r\n              min=\"1\"\r\n              onChange={this.handleChange.bind(this)} />\r\n            <br />\r\n\r\n            <label>Sensitivity</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"sensitivity\"\r\n              value={isFinite(sensitivity) ? sensitivity : \"\"}\r\n              onChange={this.handleChange.bind(this)} />\r\n            <br />\r\n\r\n            <label>Friction</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"friction\"\r\n              value={isFinite(friction) ? friction : \"\"}\r\n              onChange={this.handleChange.bind(this)} />\r\n            <br />\r\n\r\n            <label>Generations</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"generations\"\r\n              value={isFinite(generations) ? generations : \"\"}\r\n              min=\"0\"\r\n              onChange={this.handleChange.bind(this)} />\r\n            <br />\r\n\r\n            <input\r\n              type=\"button\"\r\n              value=\"Train\"\r\n              onClick={this.submitForm.bind(this)} />\r\n          </form>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Train;\r\n","import React from \"react\";\r\n\r\nexport class Row {\r\n    constructor(public key: number, public values: Map<string, any>) {}\r\n}\r\n\r\nfunction TableHeader(props: { names: string[] }) {\r\n    const header=\"header\";\r\n    return (\r\n      <thead>\r\n        <tr key={header}>\r\n          {props.names.map((name) => <th key={header + '-' + name}>{name}</th>)}\r\n        </tr>\r\n      </thead>\r\n    );\r\n}\r\n\r\nfunction TableBody(props: { names: string[], rows: Row[] }) {\r\n    const rows = props.rows.map((row) => (\r\n      <tr key={row.key}>\r\n        {props.names.map(\r\n            (name) => <td key={row.key + '-' + name}>{row.values.get(name)}</td>\r\n        )}\r\n      </tr>\r\n    ));\r\n    return (\r\n      <tbody>{rows}</tbody>\r\n    );\r\n}\r\n\r\nfunction Table(props: { rows: Row[] }) {\r\n    const { rows } = props;\r\n    const names = Array.from(rows[0].values.keys());\r\n    return (\r\n      <table>\r\n        <TableHeader names={names} />\r\n        <TableBody names={names} rows={rows} />\r\n      </table>\r\n    );\r\n}\r\n\r\nexport default Table;\r\n","import React, { Component } from \"react\";\r\nimport { TestableNetwork } from \"./neural\";\r\nimport Test from \"./Test\"\r\nimport Train from \"./Train\";\r\nimport Table, { Row } from \"./Table\";\r\n\r\nconst g = 'G', r = 'R';\r\n\r\nabstract class Asteria extends Component<{}> {\r\n    state: { rows: Row[]; input: number; };\r\n\r\n    constructor(props: {}) {\r\n        super(props);\r\n        this.state = { rows: [this.makeRow(0)], input: 0 };\r\n    }\r\n\r\n    protected abstract net(): TestableNetwork;\r\n\r\n    private makeRow(key: number): Row {\r\n        return {\r\n            key: key,\r\n            values: new Map([\r\n                [g, key],\r\n                ...this.makeRowExtras(),\r\n                [r, this.net().r()],\r\n            ]),\r\n        };\r\n    }\r\n    protected makeRowExtras(): Map<string, number> { return new Map(); }\r\n\r\n    private onTrain(samples: number, sensitivity: number, friction: number, generations: number) {\r\n        for (let i = 0; i < generations; ++i) {\r\n            this.net().study(samples);\r\n            this.net().learn(sensitivity, friction);\r\n\r\n            let { rows } = this.state;\r\n            rows.unshift(this.makeRow(rows.length));\r\n            this.setState({ rows: rows });\r\n        }\r\n    };\r\n\r\n    private Testing(): JSX.Element {\r\n        const TestingContents = this.TestingContents.bind(this);\r\n        return (\r\n          <div>\r\n            <h2>Testing</h2>\r\n            <TestingContents />\r\n            <Test network={this.net()} />\r\n          </div>\r\n        )\r\n    }\r\n    protected TestingContents(): JSX.Element { return <div />; }\r\n\r\n    private Training(): JSX.Element {\r\n        const { rows } = this.state;\r\n        const TrainingContents = this.TrainingContents.bind(this);\r\n        return (\r\n          <div>\r\n            <h2>Training</h2>\r\n            <TrainingContents />\r\n            <Train onTrain={this.onTrain.bind(this)}/>\r\n            <Table rows={rows} />\r\n          </div>\r\n        )\r\n    }\r\n    protected TrainingContents(): JSX.Element { return <div />; }\r\n\r\n    render() {\r\n        const Testing = this.Testing.bind(this);\r\n        const Training = this.Training.bind(this);\r\n        return (\r\n          <div className=\"Asteria42\">\r\n            <Testing />\r\n            <Training />\r\n          </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Asteria;\r\n","class SymMatrix implements Matrix {\r\n    entries: number[][];\r\n    size: number;\r\n\r\n    constructor(\r\n        entries: number[][],\r\n        size: number | undefined = undefined\r\n    ) {\r\n        this.entries = entries;\r\n        this.size = (size === undefined) ? this.entries.length : size;\r\n    }\r\n\r\n    get(i: number, j: number): number { return this.entries[i][j]; }\r\n    row(i: number): number[] { return this.entries[i]; }\r\n    col(j: number): number[] { return this.entries[j]; }\r\n    rows(): number[][] { return this.entries; }\r\n    cols(): number[][] { return this.entries; }\r\n\r\n    height(): number { return this.size; }\r\n    width(): number { return this.size; }\r\n    transpose(): SymMatrix { return this; }\r\n\r\n    add(other: number[][]): void {\r\n        this.entries.forEach((row, i) => {\r\n            const otherRow: number[] = other[i];\r\n            row.forEach((entry, j) => entry += otherRow[j]);\r\n        })\r\n    }\r\n    sub(other: number[][]): void {\r\n        this.entries.forEach((row, i) => {\r\n            const otherRow: number[] = other[i];\r\n            row.forEach((entry, j) => entry -= otherRow[j]);\r\n        })\r\n    }\r\n\r\n    print(): string {\r\n        return this.entries.map((row) => row.join()).join('\\n');\r\n    }\r\n}\r\n\r\nclass AsymMatrix {\r\n    entries: number[][];\r\n    h: number;\r\n    w: number;\r\n    t: number[][];\r\n\r\n    // height, width, and transpose can all be computed from the given entries at the cost of performance.\r\n    constructor(\r\n        entries: number[][],\r\n        height: number | undefined = undefined,\r\n        width: number | undefined = undefined,\r\n        transpose: number[][] | undefined = undefined\r\n    ) {\r\n        this.entries = entries;\r\n        this.h = (height === undefined) ? entries.length : height;\r\n        this.w = (width === undefined) ? entries[0].length : width;\r\n        if (transpose) {\r\n            this.t = transpose;\r\n        } else {\r\n            this.t = new Array(this.w);\r\n            for (let i = 0; i < this.w; ++i) {\r\n                this.t[i] = this.entries.map((row) => row[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    get(i: number, j: number): number { return this.entries[i][j]; }\r\n    row(i: number): number[] { return this.entries[i]; }\r\n    col(j: number): number[] { return this.t[j]; }\r\n    rows(): number[][] { return this.entries; }\r\n    cols(): number[][] { return this.t; }\r\n\r\n    height(): number { return this.h; }\r\n    width(): number { return this.w; }\r\n    transpose(): AsymMatrix {\r\n        return new AsymMatrix(this.t!, this.w, this.h, this.entries);\r\n    }\r\n\r\n    add(other: number[][]): void {\r\n        this.entries.forEach((row, i) => {\r\n            const otherRow: number[] = other[i];\r\n            for (let j = 0; j < this.w; ++j) {\r\n                const otherEntry = otherRow[j];\r\n                row[j] += otherEntry;\r\n                this.t[j][i] += otherEntry;\r\n            }\r\n        });\r\n    }\r\n    sub(other: number[][]): void {\r\n        this.entries.forEach((row, i) => {\r\n            const otherRow: number[] = other[i];\r\n            for (let j = 0; j < this.w; ++j) {\r\n                const otherEntry = otherRow[j];\r\n                row[j] -= otherEntry;\r\n                this.t[j][i] -= otherEntry;\r\n            }\r\n        });\r\n    }\r\n\r\n    print(): string {\r\n        return this.entries.map((row) => row.join()).join('\\n');\r\n    }\r\n}\r\n\r\nexport default interface Matrix {\r\n    get(i: number, j: number): number;\r\n    row(i: number): number[];\r\n    col(j: number): number[];\r\n    rows(): number[][];\r\n    cols(): number[][];\r\n\r\n    height(): number;\r\n    width(): number;\r\n    transpose(): Matrix;\r\n\r\n    add(other: number[][]): void;\r\n    sub(other: number[][]): void;\r\n\r\n    print(): string;\r\n}\r\nexport { SymMatrix, AsymMatrix };\r\n","import { SymMatrix } from \"./matrix\";\r\n\r\nfunction standardBasis(dim: number, scale: number = 1): SymMatrix {\r\n    let basis: number[][] = new Array(dim);\r\n    for (let i = 0; i < dim; ++i) {\r\n        basis[i] = new Array(dim).fill(0);\r\n        basis[i][i] = scale;\r\n    }\r\n    return new SymMatrix(basis, dim);\r\n}\r\n\r\nexport default standardBasis;\r\n","import Matrix, { AsymMatrix } from \"./matrix\";\r\n\r\nfunction dot(v: number[], u: number[]): number {\r\n    return v.reduce((acc, n, i) => acc + n * u[i], 0);\r\n}\r\n\r\n// Multiplies v and u as two matrices.\r\nfunction multVV(v: number[], u: number[]): number[][] {\r\n    return v.map((n) => u.map((m) => m * n));\r\n}\r\n\r\n// Multiplies a and b.\r\nfunction multMM(a: Matrix, b: Matrix): AsymMatrix {\r\n    return new AsymMatrix(a.rows().map((row) =>\r\n        b.cols().map((col) =>\r\n            dot(row, col)\r\n        )\r\n    ), a.height(), b.width());\r\n}\r\n\r\n// Multiplies a and v.\r\nfunction multMV(a: Matrix, v: number[]): number[] {\r\n    return a.rows().map((r) => dot(r, v));\r\n}\r\n\r\n// Multiplies a and v and adds u.\r\nfunction multMVplusV(a: Matrix, v: number[], u: number[]) {\r\n    return a.rows().map((r, i) =>\r\n        r.reduce((acc, n, j) => acc + n * v[j], u[i])\r\n    );\r\n}\r\n\r\n// Multiplies the transpose of a and v.\r\nfunction multMtV(a: Matrix, v: number[]): number[] {\r\n    return a.cols().map((c) => dot(c, v));\r\n}\r\n\r\nexport { dot, multVV, multMM, multMV, multMVplusV, multMtV };\r\n","import Matrix, { AsymMatrix } from \"./matrix\";\r\nimport standardBasis from \"./standard\";\r\nimport { multMM } from \"./operations\";\r\n\r\ntype Plane = { x: number; y: number; };\r\n\r\nfunction randomRotation(dim: number, ...planes: Plane[]): AsymMatrix {\r\n    let basis: number[][] = new Array(dim);\r\n    for (let i = 0; i < dim; ++i) {\r\n        basis[i] = new Array(dim).fill(0);\r\n        basis[i][i] = 1;\r\n    }\r\n    let transpose = basis;\r\n    for (const { x, y } of planes) {\r\n          if (x < dim && y < dim) {\r\n            const cos = 2 * Math.random() - 1;\r\n            const sin = Math.sqrt(1 - cos * cos);\r\n            basis[x][x] = cos;\r\n            basis[y][y] = cos;\r\n            if (Math.random() < 0.5) {\r\n                basis[x][y] = sin;\r\n                basis[y][x] = -sin;\r\n                transpose[x][y] = -sin;\r\n                transpose[y][x] = sin;\r\n            } else {\r\n                basis[x][y] = -sin;\r\n                basis[y][x] = sin;\r\n                transpose[x][y] = sin;\r\n                transpose[y][x] = -sin;\r\n            }\r\n        }\r\n    }\r\n    return new AsymMatrix(basis, dim, dim, transpose);\r\n}\r\n\r\nfunction randomRotate(matrix: Matrix): Matrix {\r\n    const dim: number = matrix.height();\r\n    const even: number = (dim % 2 === 0) ? dim : dim + 1;\r\n    const half: number = even / 2;\r\n\r\n    let x: number[] = [];\r\n    let y: number[] = [];\r\n    let z: number = even - 1;\r\n    let planess: Plane[][] = [];\r\n    for (let i = 1; i < half; ++i) {\r\n        x.push(i);\r\n        y.push(z - i);\r\n    }\r\n    for (let i = 0; i <= even - 2; ++i) {\r\n        planess[i] = [{ x: 0, y: z }];\r\n        for (let j = 0; j < x.length; ++j) {\r\n            planess[i].push({ x: x[j], y: y[j] });\r\n        }\r\n        x.unshift(z);\r\n        y.push(x.pop()!);\r\n        z = y.shift()!;\r\n    }\r\n\r\n    return planess.map((planes) =>\r\n        randomRotation(dim, ...planes)\r\n    ).reduceRight(multMM, matrix);\r\n}\r\n\r\nfunction orthoVectors(dim: number, count: number, scale = 1): number[][] {\r\n    const basis = standardBasis(dim, scale);\r\n    let vectors: number[][] = [];\r\n    while (vectors.length < count) {\r\n        vectors = vectors.concat(randomRotate(basis).cols());\r\n    }\r\n    return vectors.slice(0, count);\r\n}\r\n\r\nexport { standardBasis, randomRotation, randomRotate, orthoVectors };\r\n","import { Matrix, multMVplusV } from \"../matrices\";\r\nimport { orthoVectors } from \"../matrices/rotations\";\r\nimport { AsymMatrix } from \"../matrices/matrix\";\r\nimport { multVV, multMtV } from \"../matrices/operations\";\r\n\r\n\r\nfunction fill1D(length: number, value: number): number[] {\r\n    return new Array(length).fill(value);\r\n}\r\n\r\nfunction fill2D(height: number, width: number, value: number): number[][] {\r\n    const arr = [];\r\n    while (arr.length < height) {\r\n        arr.push(fill1D(width, value));\r\n    }\r\n    return arr;\r\n}\r\n\r\n\r\nabstract class Layer {\r\n    width: number;\r\n\r\n    constructor(width: number) {\r\n        this.width = width;\r\n    }\r\n\r\n    abstract value(): number[];\r\n\r\n    print(): string { return \"\"; }\r\n\r\n\r\n    study(_adjustments: number[]): void {}\r\n\r\n    learn(_sensitivity: number, _friction: number): void {}\r\n\r\n\r\n    reset(): void {}\r\n}\r\n\r\n\r\nclass InputLayer extends Layer {\r\n    private _names: string[];\r\n    private _value: number[];\r\n\r\n    constructor(...names: string[]) {\r\n        super(names.length);\r\n        this._names = names;\r\n        this._value = new Array(this.width).fill(0);\r\n    }\r\n\r\n    value(): number[] { return this._value; }\r\n\r\n    print(): string {\r\n        return this._names.reduce(((acc, name, i) =>\r\n            acc + \"\\n\\t\" + name + \": \" + this._value[i]\r\n        ), \"[\") + \"\\n]\";\r\n    }\r\n\r\n\r\n    bind(binding: Map<string, number>) {\r\n        for (let i = 0; i < this.width; ++i) {\r\n            if (binding.has(this._names[i])) {\r\n                this._value[i] = binding.get(this._names[i])!;\r\n            }\r\n        }\r\n    }\r\n\r\n    binding(): Map<string, number> {\r\n        let map = new Map<string, number>();\r\n        for (let i = 0; i < this.width; ++i) {\r\n            map.set(this._names[i], this._value[i]);\r\n        }\r\n        return map;\r\n    }\r\n\r\n    input(): Map<string, number> {\r\n        return this.binding();\r\n    }\r\n}\r\n\r\n\r\nabstract class TrainableLayer extends Layer {\r\n    protected prev: Layer;\r\n\r\n    protected w: Matrix;\r\n    protected vw: number[][];\r\n    protected aw: number[][][] = [];\r\n\r\n    protected b: number[];\r\n    protected vb: number[];\r\n    protected ab: number[][] = [];\r\n\r\n    private _preAF: number[] | null = null;\r\n    private _value: number[] | null = null;\r\n\r\n    constructor(prev: Layer, width: number) {\r\n        super(width);\r\n\r\n        this.prev = prev;\r\n\r\n        this.w = new AsymMatrix(\r\n            orthoVectors(prev.width, width),\r\n            width, prev.width\r\n        );\r\n        this.vw = fill2D(width, prev.width, 0);\r\n\r\n        this.b = fill1D(width, 0);\r\n        this.vb = fill1D(width, 0);\r\n    }\r\n\r\n    preAF(): number[] {\r\n        if (this._preAF === null) {\r\n            this._preAF = multMVplusV(this.w, this.prev.value(), this.b);\r\n        }\r\n        return this._preAF;\r\n    }\r\n    value(): number[] {\r\n        if (this._value === null) {\r\n            this._value = this.preAF().map((x) => this.actValue(x));\r\n        }\r\n        return this._value;\r\n    }\r\n\r\n    print(): string {\r\n        return this.w.rows().reduce(((acc, row, i) =>\r\n            acc + \"\\n\\t\" + row.join() + \"; \" + this.b[i]\r\n        ), \"[\") + \"\\n]\";\r\n    }\r\n\r\n\r\n    study(adjustments: number[]): void {\r\n        const preAF = this.preAF();\r\n        const d = adjustments.map((a, i) =>\r\n            a * this.actDeriv(preAF[i])\r\n        );\r\n        this.aw.push(multVV(d, this.prev.value()));\r\n        this.ab.push(d);\r\n        this.prev.study(multMtV(this.w, d));\r\n    }\r\n\r\n    learn(sensitivity: number, friction: number): void {\r\n        const count = this.aw.length;\r\n\r\n        for (let i = 0; i < this.width; ++i) {\r\n            for (let j = 0; j < this.prev.width; ++j) {\r\n                this.vw[i][j] = (1 - friction) * this.vw[i][j]\r\n                + sensitivity * this.aw.reduce(((acc, a) =>\r\n                    acc + a[i][j]\r\n                ), 0) / count;\r\n            }\r\n            this.vb[i] = (1 - friction) * this.vb[i]\r\n            + sensitivity * this.ab.reduce(((acc, a) =>\r\n                acc + a[i]\r\n            ), 0) / count;\r\n            this.b[i] += this.vb[i];\r\n        }\r\n        this.w.add(this.vw);\r\n\r\n        this.prev.learn(sensitivity, friction);\r\n        this.aw = [];\r\n        this.ab = [];\r\n    }\r\n\r\n    reset(): void {\r\n        this._preAF = null;\r\n        this._value = null;\r\n        this.prev.reset();\r\n    }\r\n\r\n\r\n    protected abstract actValue(x: number): number;\r\n\r\n    protected abstract actDeriv(x: number): number;\r\n}\r\n\r\n\r\nabstract class HiddenLayer extends TrainableLayer {\r\n    weight(from: number, to: number): number {\r\n        return this.w.get(to, from);\r\n    }\r\n\r\n    bias(to: number): number {\r\n        return this.b[to];\r\n    }\r\n}\r\n\r\n\r\nabstract class OutputLayer extends TrainableLayer {\r\n    private _names: string[];\r\n    private _expec: number[];\r\n\r\n    constructor(prev: Layer, ...names: string[]) {\r\n        super(prev, names.length);\r\n        this._names = names;\r\n        this._expec = new Array(this.width).fill(0);\r\n    }\r\n\r\n    print(): string {\r\n        return this.w.rows().reduce(((acc, row, i) =>\r\n            acc + \"\\n\\t\" + row.join() + \"; \" + this.b[i]\r\n        ), \"[\") + \"\\n]\";\r\n    }\r\n\r\n    studyBindings(): void {\r\n        this.study(this.value().map((y, i) => this._expec[i] - y));\r\n    }\r\n\r\n    error(): number {\r\n        return this.value().reduce((err, y, i) => {\r\n            const d = this._expec[i] - y;\r\n            return err + d * d;\r\n        }, 0);\r\n    }\r\n\r\n    bind(binding: Map<string, number>) {\r\n        for (let i = 0; i < this.width; ++i) {\r\n            if (binding.has(this._names[i])) {\r\n                this._expec[i] = binding.get(this._names[i])!;\r\n            }\r\n        }\r\n    }\r\n\r\n    binding(): Map<string, number> {\r\n        const map = new Map<string, number>();\r\n        for (let i = 0; i < this.width; ++i) {\r\n            map.set(this._names[i], this._expec[i]);\r\n        }\r\n        return map;\r\n    }\r\n\r\n    output(): Map<string, number> {\r\n        const vals = this.value();\r\n        const map = new Map<string, number>();\r\n        for (let i = 0; i < this.width; ++i) {\r\n            map.set(this._names[i], vals[i]);\r\n        }\r\n        return map;\r\n    }\r\n\r\n    weight(from: number, to: string): number {\r\n        return this.w.get(this._names.indexOf(to), from);\r\n    }\r\n\r\n    bias(to: string): number {\r\n        return this.b[this._names.indexOf(to)];\r\n    }\r\n}\r\n\r\n\r\nexport default Layer;\r\nexport { InputLayer, HiddenLayer, OutputLayer };\r\n","import Layer, { InputLayer, HiddenLayer, OutputLayer } from \"./layers\";\r\n\r\ntype Input = Map<string, number>;\r\ntype Output = Map<string, number>;\r\ntype Sample = { input: Input; output: Output; };\r\n\r\nabstract class Network {\r\n    private _inputLayer: InputLayer;\r\n    private _hiddenLayers: HiddenLayer[];\r\n    private _outputLayer: OutputLayer;\r\n\r\n    protected studied: { sample: Sample, err: number }[];\r\n\r\n    protected abstract source(count: number): Sample[];\r\n    protected abstract hiddenSizes(): number[];\r\n    protected abstract makeHiddenLayer(prev: Layer, size: number): HiddenLayer;\r\n    protected abstract makeOutputLayer(\r\n        prev: Layer, ...names: string[]\r\n    ): OutputLayer;\r\n\r\n    constructor() {\r\n        this.studied = [];\r\n\r\n        const { input, output } = this.source(1)[0];\r\n        const inputNames: string[] = Array.from(input.keys());\r\n        const outputNames: string[] = Array.from(output.keys());\r\n\r\n        this._inputLayer = new InputLayer(...inputNames);\r\n        this._hiddenLayers = [];\r\n        let prev: Layer = this._inputLayer;\r\n        for (const size of this.hiddenSizes()) {\r\n            this._hiddenLayers.push(this.makeHiddenLayer(prev, size));\r\n            prev = this._hiddenLayers[this._hiddenLayers.length - 1];\r\n        }\r\n        this._outputLayer = this.makeOutputLayer(prev, ...outputNames);\r\n    }\r\n\r\n    print(): string {\r\n        return this._hiddenLayers.map(\r\n            (n) => n.print()\r\n        ).join(\"\\n\") + \"\\n\" + this._outputLayer.print();\r\n    }\r\n\r\n    inputLayer(): InputLayer { return this._inputLayer; }\r\n    hiddenLayer(i: number): HiddenLayer { return this._hiddenLayers[i]; }\r\n    outputLayer(): OutputLayer { return this._outputLayer; }\r\n\r\n    error(): number { return this._outputLayer.error(); }\r\n\r\n    avgErr(): number {\r\n        return this.studied.reduce(\r\n            (acc, study) => acc + study.err, 0\r\n        ) / this.studied.length;\r\n    }\r\n\r\n    bind(input: Input, output: Output | null = null) {\r\n        this.reset();\r\n        this._inputLayer.bind(input);\r\n        if (output !== null) { this._outputLayer.bind(output); }\r\n    }\r\n    output(input: Input | null = null): Map<string, number> {\r\n        if (input !== null) { this.bind(input) };\r\n        return this._outputLayer.output();\r\n    }\r\n\r\n    study(count: number) {\r\n        this.studied = this.source(count).map((sample) => {\r\n            this.bind(sample.input, sample.output);\r\n            this._outputLayer.studyBindings();\r\n            return { sample: sample, err: this._outputLayer.error() };\r\n        });\r\n    }\r\n    learn(sensitivity: number, friction: number) {\r\n        this._outputLayer.learn(sensitivity, friction);\r\n        // console.log(this.print());\r\n    }\r\n\r\n    reset() {\r\n        this._outputLayer.reset();\r\n    }\r\n}\r\n\r\n\r\nabstract class TestableNetwork extends Network {\r\n    protected abstract tests(): Sample[];\r\n\r\n    rsq(): number {\r\n        const tests = this.tests();\r\n        return tests.reduce((acc, { input, output }) => {\r\n            this.bind(input, output);\r\n            return acc + this.error();\r\n        }, 0) / tests.length;\r\n    }\r\n    r(): number {\r\n        return Math.sqrt(this.rsq());\r\n    }\r\n}\r\n\r\n\r\nexport default Network\r\nexport { TestableNetwork };\r\n","// Vanishing gradient countermeasures\r\nfunction positive(x: number): number {\r\n    return (isFinite(x) && x > 0) ? x : Number.MIN_VALUE;\r\n}\r\nfunction product(x: number, y: number): number {\r\n    const xy = x * y;\r\n    return (xy === 0) ? (Math.sign(x) * Math.sign(y) * Number.MIN_VALUE) : xy;\r\n}\r\n\r\nexport { positive, product };\r\n","import { positive } from \"./activations\";\r\nimport { HiddenLayer, OutputLayer } from \"./layers\";\r\n\r\n\r\nabstract class Logistic {\r\n    static value(x: number): number {\r\n        return positive(1 / (1 + Math.exp(-x)));\r\n    }\r\n\r\n    static deriv(x: number): number {\r\n        return positive(1 / (Math.exp(x) + 2 + Math.exp(-x)));\r\n    }\r\n}\r\n\r\n\r\nclass LogisticHiddenLayer extends HiddenLayer {\r\n    protected actValue(x: number): number {\r\n        return Logistic.value(x);\r\n    }\r\n\r\n    protected actDeriv(x: number): number {\r\n        return Logistic.deriv(x);\r\n    }\r\n}\r\n\r\nclass LogisticOutputLayer extends OutputLayer {\r\n    protected actValue(x: number): number {\r\n        return Logistic.value(x);\r\n    }\r\n\r\n    protected actDeriv(x: number): number {\r\n        return Logistic.deriv(x);\r\n    }\r\n}\r\n\r\n\r\nexport default Logistic;\r\nexport { LogisticHiddenLayer, LogisticOutputLayer };\r\n","import { positive } from \"./activations\";\r\nimport { HiddenLayer, OutputLayer } from \"./layers\";\r\n\r\n\r\nabstract class Softplus {\r\n    static value(x: number): number {\r\n        const y = 1 + Math.exp(x);\r\n        return isFinite(y) ? positive(Math.log(y)) : x;\r\n    }\r\n\r\n    static deriv(x: number): number {\r\n        return positive(1 / (1 + Math.exp(-x)));\r\n    }\r\n}\r\n\r\n\r\nclass SoftplusHiddenLayer extends HiddenLayer {\r\n    protected actValue(x: number): number {\r\n        return Softplus.value(x);\r\n    }\r\n\r\n    protected actDeriv(x: number): number {\r\n        return Softplus.deriv(x);\r\n    }\r\n}\r\n\r\nclass SoftplusOutputLayer extends OutputLayer {\r\n    protected actValue(x: number): number {\r\n        return Softplus.value(x);\r\n    }\r\n\r\n    protected actDeriv(x: number): number {\r\n        return Softplus.deriv(x);\r\n    }\r\n}\r\n\r\n\r\nexport default Softplus;\r\nexport { SoftplusHiddenLayer, SoftplusOutputLayer };\r\n","import * as Neural from \"../neural\";\r\n\r\nclass Network42 extends Neural.TestableNetwork {\r\n    protected source(count: number) {\r\n        this.studied.sort((a, b) => b.err - a.err);\r\n        let arr = this.studied.slice(0, count / 2).map(\r\n            (study) => study.sample\r\n        );\r\n        for (let i = arr.length; i < count; ++i) {\r\n            arr.push({\r\n                input: new Map<string, number>([['x', Math.random()]]),\r\n                output: new Map<string, number>([['y', 42]])\r\n            });\r\n        }\r\n        return arr;\r\n    }\r\n    protected hiddenSizes() { return []; }\r\n    protected makeHiddenLayer(prev: Neural.Layer, width: number) {\r\n        return new Neural.SoftplusHiddenLayer(prev, width);\r\n    }\r\n    protected makeOutputLayer(prev: Neural.Layer, ...names: string[]) {\r\n        return new Neural.SoftplusOutputLayer(prev, ...names);\r\n    }\r\n\r\n    private cachedTests = [\r\n        {\r\n            input: new Map<string, number>([['x', 0]]),\r\n            output: new Map<string, number>([['y', 42]])\r\n        },\r\n        {\r\n            input: new Map<string, number>([['x', 1]]),\r\n            output: new Map<string, number>([['y', 42]])\r\n        }\r\n    ];\r\n    protected tests() { return this.cachedTests; }\r\n\r\n    // Convenience Methods\r\n\r\n    m(): number {\r\n        return this.outputLayer().weight(0, 'y');\r\n    }\r\n    b(): number {\r\n        return this.outputLayer().bias('y');\r\n    }\r\n\r\n    value(x: number): number {\r\n        return this.output(new Map<string, number>([['x', x]])).get('y')!;\r\n    }\r\n}\r\n\r\nexport default Network42;\r\n","import Asteria from \"../Asteria\";\r\nimport Network42 from \"./Network42\";\r\n\r\nconst m = 'm', b = 'b';\r\n\r\nclass Asteria42 extends Asteria {\r\n    private _net: Network42 | undefined = undefined;\r\n    protected net() {\r\n        if (!this._net) { this._net = new Network42(); }\r\n        return this._net!;\r\n    }\r\n\r\n    protected makeRowExtras() {\r\n        return new Map([\r\n            [m, this.net().m()],\r\n            [b, this.net().b()],\r\n        ]);\r\n    }\r\n}\r\n\r\nexport default Asteria42;\r\n","import * as Neural from \"../neural\";\r\n\r\nclass NetworkXOR extends Neural.TestableNetwork {\r\n    protected source(count: number) {\r\n      this.studied.sort((a, b) => b.err - a.err);\r\n      const quarter = count / 4;\r\n      let arr = this.studied.slice(quarter, 2 * quarter).map(\r\n          (study) => study.sample\r\n      );\r\n      for (let i = 0; i < count; ++i) {\r\n            const x = Math.random();\r\n            const y = Math.random();\r\n            const xXORy = ((x > 0.5) === (y > 0.5)) ? 0 : 1;\r\n            arr.push({\r\n                input: new Map<string, number>([['x', x], ['y', y]]),\r\n                output: new Map<string, number>([[\"xXORy\", xXORy]])\r\n            });\r\n        }\r\n        return arr;\r\n    }\r\n    protected hiddenSizes() { return [2, 4, 4]; }\r\n    protected makeHiddenLayer(prev: Neural.Layer, width: number) {\r\n        return new Neural.LogisticHiddenLayer(prev, width);\r\n    }\r\n    protected makeOutputLayer(prev: Neural.Layer, ...names: string[]) {\r\n        return new Neural.LogisticOutputLayer(prev, ...names);\r\n    }\r\n\r\n    private cachedTests = (() => {\r\n        let tests = [];\r\n        for (let x = 0; x <= 1; x += 0.1) {\r\n            for (let y = 0; y <= 1; y += 0.1) {\r\n              const xXORy = ((x > 0.5) === (y > 0.5)) ? 0 : 1;\r\n                tests.push({\r\n                    input: new Map<string, number>([['x', x], ['y', y]]),\r\n                    output: new Map<string, number>([[\"xXORy\", xXORy]])\r\n                });\r\n            }\r\n        }\r\n        return tests;\r\n    })();\r\n    protected tests() { return this.cachedTests; }\r\n\r\n    // Convenience Methods\r\n\r\n    value(x: number, y: number): number {\r\n        return this.output(\r\n            new Map<string, number>([['x', x], ['y', y]])\r\n        ).get(\"xXORy\")!;\r\n    }\r\n}\r\n\r\nexport default NetworkXOR;\r\n","import Asteria from \"../Asteria\";\r\nimport NetworkXOR from \"./NetworkXOR\";\r\n\r\nclass AsteriaXOR extends Asteria {\r\n    private _net: NetworkXOR | undefined = undefined;\r\n    protected net() {\r\n        if (!this._net) { this._net = new NetworkXOR(); }\r\n        return this._net!;\r\n    }\r\n}\r\n\r\nexport default AsteriaXOR;\r\n","import * as Neural from \"../neural\";\r\n\r\nclass NetworkNAND extends Neural.TestableNetwork {\r\n    protected source(count: number) {\r\n        this.studied.sort((a, b) => b.err - a.err);\r\n        const quarter = count / 4;\r\n        let arr = this.studied.slice(quarter, 2 * quarter).map(\r\n            (study) => study.sample\r\n        );\r\n        for (let i = arr.length; i < count; ++i) {\r\n            const x = Math.random();\r\n            const y = Math.random();\r\n            const xNANDy = (x > 0.5 && y > 0.5) ? 0 : 1;\r\n            arr.push({\r\n                input: new Map<string, number>([['x', x], ['y', y]]),\r\n                output: new Map<string, number>([[\"xNANDy\", xNANDy]])\r\n            });\r\n        }\r\n        return arr;\r\n    }\r\n    protected hiddenSizes() { return [2]; }\r\n    protected makeHiddenLayer(prev: Neural.Layer, width: number) {\r\n        return new Neural.LogisticHiddenLayer(prev, width);\r\n    }\r\n    protected makeOutputLayer(prev: Neural.Layer, ...names: string[]) {\r\n        return new Neural.LogisticOutputLayer(prev, ...names);\r\n    }\r\n\r\n    private cachedTests = (() => {\r\n        let tests = [];\r\n        for (let x = 0; x <= 1; x += 0.1) {\r\n            for (let y = 0; y <= 1; y += 0.1) {\r\n                const xNANDy = (x > 0.5 && y > 0.5) ? 0 : 1;\r\n                tests.push({\r\n                    input: new Map<string, number>([['x', x], ['y', y]]),\r\n                    output: new Map<string, number>([[\"xNANDy\", xNANDy]])\r\n                });\r\n            }\r\n        }\r\n        return tests;\r\n    })();\r\n    protected tests() { return this.cachedTests; }\r\n\r\n    // Convenience Methods\r\n\r\n    value(x: number, y: number): number {\r\n        return this.output(\r\n            new Map<string, number>([['x', x], ['y', y]])\r\n        ).get(\"xNANDy\")!;\r\n    }\r\n}\r\n\r\nexport default NetworkNAND;\r\n","import Asteria from \"../Asteria\";\r\nimport NetworkNAND from \"./NetworkNAND\";\r\n\r\nclass AsteriaNAND extends Asteria {\r\n    private _net: NetworkNAND | undefined = undefined;\r\n    protected net() {\r\n        if (!this._net) { this._net = new NetworkNAND(); }\r\n        return this._net!;\r\n    }\r\n}\r\n\r\nexport default AsteriaNAND;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link\r\n} from \"react-router-dom\";\r\nimport {\r\n    Button,\r\n    Container,\r\n    Image,\r\n    Menu,\r\n    Segment,\r\n    Sidebar\r\n} from 'semantic-ui-react';\r\nimport './stylesheets/adventure.css';\r\nimport './stylesheets/layout.css';\r\nimport githubImage from './img/github-logo-and-text.png';\r\n\r\nimport Welcome from './Welcome';\r\nimport Asteria42 from \"./asteria42/Asteria42\";\r\nimport AsteriaXOR from \"./asteriaXOR/AsteriaXOR\";\r\nimport AsteriaNAND from \"./asteriaNAND/AsteriaNAND\";\r\n\r\ntype AsteriaRoute = {\r\n  name: string;\r\n  path: string;\r\n  inLeftbar: boolean;\r\n  heading: string;\r\n  main: () => JSX.Element;\r\n}\r\nconst asteria = \"/Asteria/\";\r\nconst routes = [\r\n    {\r\n        name: \"Home\",\r\n        path: asteria,\r\n        inLeftbar: true,\r\n        heading: \"Welcome\",\r\n        main: () => <Welcome />\r\n    },\r\n    {\r\n        name: \"The Answer\",\r\n        path: asteria + \"42\",\r\n        inLeftbar: true,\r\n        heading: \"The Answer\",\r\n        main: () => <Asteria42 />\r\n    },\r\n    {\r\n        name: \"NAND Logic\",\r\n        path: asteria + \"NAND\",\r\n        inLeftbar: true,\r\n        heading: \"NAND Logic\",\r\n        main: () => <AsteriaNAND />\r\n    },\r\n    {\r\n        name: \"Exclusive OR\",\r\n        path: asteria + \"XOR\",\r\n        inLeftbar: true,\r\n        heading: \"Exclusive OR\",\r\n        main: () => <AsteriaXOR />\r\n    }\r\n];\r\n\r\ntype LeftbarProps = {\r\n    visible: boolean;\r\n    routes: AsteriaRoute[];\r\n}\r\nconst Leftbar = ({ visible, routes }: LeftbarProps) => (\r\n    <Sidebar\r\n      as={Menu}\r\n      animation=\"overlay\"\r\n      direction=\"left\"\r\n      icon='labeled'\r\n      inverted\r\n      vertical\r\n      visible={visible}\r\n      width=\"thin\"\r\n    >\r\n      <Switch>\r\n        {routes.map((route, i) => (\r\n          <Route exact\r\n            key={i}\r\n            path={route.path}>\r\n            {routes.filter(({ inLeftbar }) => inLeftbar).map((route, j) => (\r\n                <Menu.Item as={Link} className=\"adventure-on-hover\"\r\n                  key={i + '-' + j}\r\n                  to={route.path}\r\n                  active={i === j}>\r\n                  {route.name}\r\n                </Menu.Item>\r\n            ))}\r\n          </Route>\r\n        ))}\r\n      </Switch>\r\n      <Menu.Item>\r\n        <p>Created by<br/>Justin Xu</p>\r\n        <Button as='a' className='github'\r\n          href='https://github.com/xujustinj/Asteria'\r\n        >\r\n          <Image src={githubImage}/>\r\n        </Button>\r\n      </Menu.Item>\r\n    </Sidebar>\r\n)\r\n\r\nconst App = () => {\r\n    const [leftbar, setLeftbar] = useState(false);\r\n\r\n    return (\r\n      <Router>\r\n        <header>\r\n          <div className=\"logo\"\r\n            onClick={() => setLeftbar(true)}\r\n            onMouseOver={() => setLeftbar(true)}>\r\n              <h1 className=\"adventure-on-hover\">Asteria</h1>\r\n          </div>\r\n          <Switch>\r\n            {routes.map((route, index) => (\r\n              <Route exact\r\n                key={index}\r\n                path={route.path}>\r\n                <h2 className=\"heading adventure-on-hover\">{route.heading}</h2>\r\n              </Route>\r\n            ))}\r\n          </Switch>\r\n        </header>\r\n          <Sidebar.Pushable as={Segment} className=\"rest\">\r\n            <Leftbar visible={leftbar} routes={routes}/>\r\n            <Sidebar.Pusher\r\n              dimmed={leftbar}\r\n              onClick={() => setLeftbar(false)}>\r\n              <div className=\"content\">\r\n                <Container text>\r\n                  {routes.map((route, index) =>\r\n                    <Route exact\r\n                      key={index}\r\n                      path={route.path}>\r\n                      <route.main />\r\n                    </Route>\r\n                  )}\r\n                </Container>\r\n              </div>\r\n            </Sidebar.Pusher>\r\n          </Sidebar.Pushable>\r\n      </Router>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport './stylesheets/index.css';\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}