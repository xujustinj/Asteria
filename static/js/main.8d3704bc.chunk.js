(this.webpackJsonpasteria=this.webpackJsonpasteria||[]).push([[0],{28:function(t,e,n){t.exports=n(38)},38:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=n(24),u=n.n(i),s=n(16),l=n(12),c=n(1),o=n(2),h=n(5),v=n(3),f=n(4),y=n(7),b=n(13),d=function(t){function e(t){var n;Object(c.a)(this,e),(n=Object(h.a)(this,Object(v.a)(e).call(this,t))).net=void 0,n.state=void 0,n.net=t.network;var r=new Map(n.net.getInputLayer().get().map((function(t){return[t.print(),0]})));return n.state={inputs:r,outputs:n.net.getOutput(r)},n}return Object(f.a)(e,t),Object(o.a)(e,[{key:"handleInput",value:function(t){var e=t.target,n=e.name,r=e.value,a=this.state.inputs;a.set(n,r),this.setState({inputs:a,outputs:this.net.getOutput(a)})}},{key:"render",value:function(){var t=[],e=!0,n=!1,r=void 0;try{for(var i,u=this.state.inputs[Symbol.iterator]();!(e=(i=u.next()).done);e=!0){var s=i.value,l=Object(b.a)(s,2),c=l[0],o=l[1];t.push(a.a.createElement("div",{key:"input-"+c},a.a.createElement("label",null,c,"="),a.a.createElement("input",{type:"number",name:c,value:o,onChange:this.handleInput.bind(this)})))}}catch(k){n=!0,r=k}finally{try{e||null==u.return||u.return()}finally{if(n)throw r}}var h=[],v=!0,f=!1,y=void 0;try{for(var d,p=this.state.outputs[Symbol.iterator]();!(v=(d=p.next()).done);v=!0){var m=d.value,O=Object(b.a)(m,2),j=O[0],g=O[1];h.push(a.a.createElement("div",{key:"output-"+j},a.a.createElement("label",null,j,"="),a.a.createElement("input",{readOnly:!0,type:"number",name:j,value:g})))}}catch(k){f=!0,y=k}finally{try{v||null==p.return||p.return()}finally{if(f)throw y}}return a.a.createElement("form",{className:"Test"},a.a.createElement("h3",null,"Inputs"),t,a.a.createElement("h3",null,"Outputs"),h)}}]),e}(r.Component),p=n(25),m=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(h.a)(this,Object(v.a)(e).call(this,t))).state=void 0,n.state={samples:1,sensitivity:1,friction:1,generations:1},n}return Object(f.a)(e,t),Object(o.a)(e,[{key:"handleChange",value:function(t){var e=t.target,n=e.name,r=e.value;this.setState(Object(p.a)({},n,r))}},{key:"submitForm",value:function(){var t=this.state,e=t.samples,n=t.sensitivity,r=t.friction,a=t.generations;this.props.onTrain(e,n,r,a)}},{key:"render",value:function(){var t=this.state,e=t.samples,n=t.sensitivity,r=t.friction,i=t.generations;return a.a.createElement("form",{className:"Train"},a.a.createElement("label",null,"Samples"),a.a.createElement("input",{type:"number",name:"samples",value:isFinite(e)?e:"",min:"1",onChange:this.handleChange.bind(this)}),a.a.createElement("br",null),a.a.createElement("label",null,"Sensitivity"),a.a.createElement("input",{type:"number",name:"sensitivity",value:isFinite(n)?n:"",onChange:this.handleChange.bind(this)}),a.a.createElement("br",null),a.a.createElement("label",null,"Friction"),a.a.createElement("input",{type:"number",name:"friction",value:isFinite(r)?r:"",onChange:this.handleChange.bind(this)}),a.a.createElement("br",null),a.a.createElement("label",null,"Generations"),a.a.createElement("input",{type:"number",name:"generations",value:isFinite(i)?i:"",min:"0",onChange:this.handleChange.bind(this)}),a.a.createElement("br",null),a.a.createElement("input",{type:"button",value:"Train",onClick:this.submitForm.bind(this)}))}}]),e}(r.Component);function O(t){return a.a.createElement("thead",null,a.a.createElement("tr",{key:"header"},t.names.map((function(t){return a.a.createElement("th",{key:"header-"+t},t)}))))}function j(t){var e=t.rows.map((function(e){return a.a.createElement("tr",{key:e.key},t.names.map((function(t){return a.a.createElement("td",{key:e.key+"-"+t},e.values.get(t))})))}));return a.a.createElement("tbody",null,e)}var g=function(t){var e=t.rows,n=Array.from(e[0].values.keys());return a.a.createElement("table",null,a.a.createElement(O,{names:n}),a.a.createElement(j,{names:n,rows:e}))},k="G",w=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(h.a)(this,Object(v.a)(e).call(this,t))).state=void 0,n.state={rows:[n.makeRow(0)],input:0},n}return Object(f.a)(e,t),Object(o.a)(e,[{key:"makeRow",value:function(t){return{key:t,values:new Map([[k,t]].concat(Object(y.a)(this.makeRowExtras()),[["R",this.net().r()]]))}}},{key:"makeRowExtras",value:function(){return new Map}},{key:"onTrain",value:function(t,e,n,r){for(var a=0;a<r;++a){this.net().study(t),this.net().learn(e,n);var i=this.state.rows;i.unshift(this.makeRow(i.length)),this.setState({rows:i})}}},{key:"About",value:function(){var t=this.AboutContents.bind(this);return a.a.createElement("div",null,a.a.createElement("h2",null,"About"),a.a.createElement(t,null))}},{key:"AboutContents",value:function(){return a.a.createElement("div",null)}},{key:"Testing",value:function(){var t=this.TestingContents.bind(this);return a.a.createElement("div",null,a.a.createElement("h2",null,"Testing"),a.a.createElement(t,null),a.a.createElement(d,{network:this.net()}))}},{key:"TestingContents",value:function(){return a.a.createElement("div",null)}},{key:"Training",value:function(){var t=this.state.rows,e=this.TrainingContents.bind(this);return a.a.createElement("div",null,a.a.createElement("h2",null,"Training"),a.a.createElement(e,null),a.a.createElement(m,{onTrain:this.onTrain.bind(this)}),a.a.createElement(g,{rows:t}))}},{key:"TrainingContents",value:function(){return a.a.createElement("div",null)}},{key:"render",value:function(){var t=this.About.bind(this),e=this.Testing.bind(this),n=this.Training.bind(this);return a.a.createElement("div",{className:"Asteria42"},a.a.createElement(t,null),a.a.createElement(e,null),a.a.createElement(n,null))}}]),e}(r.Component),E=function(){function t(){Object(c.a)(this,t),this._value=NaN,this._deriv=new Map}return Object(o.a)(t,[{key:"value",value:function(){return isFinite(this._value)||(this._value=this.valueImpl()),this._value}},{key:"deriv",value:function(t){return this._deriv.has(t)||this._deriv.set(t,this.derivImpl(t)),this._deriv.get(t)}},{key:"reset",value:function(){this._value=NaN,this._deriv.clear()}}]),t}(),A=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(h.a)(this,Object(v.a)(e).call(this))).arg=void 0,n.arg=t,n}return Object(f.a)(e,t),e}(E),x=function(t){function e(t,n){var r;return Object(c.a)(this,e),(r=Object(h.a)(this,Object(v.a)(e).call(this))).left=void 0,r.right=void 0,r.left=t,r.right=n,r}return Object(f.a)(e,t),e}(E),M=function(t){function e(){var t;Object(c.a)(this,e),(t=Object(h.a)(this,Object(v.a)(e).call(this))).terms=void 0;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.terms=r,t}return Object(f.a)(e,t),e}(E),L=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(c.a)(this,t),this.name=void 0,this.val=void 0,this.name=e,this.val=n}return Object(o.a)(t,[{key:"bind",value:function(t){this.val=t}},{key:"value",value:function(){return this.val}},{key:"deriv",value:function(t){return t===this?1:0}},{key:"print",value:function(){return this.name}}]),t}(),T=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(o.a)(e,[{key:"valueImpl",value:function(){return this.left.value()*this.right.value()}},{key:"derivImpl",value:function(t){return this.left.deriv(t)*this.right.value()+this.left.value()*this.right.deriv(t)}}]),e}(x),I=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(o.a)(e,[{key:"valueImpl",value:function(){return this.terms.reduce((function(t,e){return t+e.value()}),0)}},{key:"derivImpl",value:function(t){return this.terms.reduce((function(e,n){return e+n.deriv(t)}),0)}}]),e}(M);function N(t){return isFinite(t)&&t>0?t:Number.MIN_VALUE}function _(t,e){var n=t*e;return 0===n?Math.sign(t)*Math.sign(e)*Number.MIN_VALUE:n}var C=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(o.a)(e,[{key:"valueImpl",value:function(){return N(1/(1+Math.exp(-this.arg.value())))}},{key:"derivImpl",value:function(t){var e=this.arg.value(),n=N(1/(Math.exp(e)+2+Math.exp(-e)));return _(this.arg.deriv(t),n)}}]),e}(A),R=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(o.a)(e,[{key:"valueImpl",value:function(){var t=this.arg.value(),e=1+Math.exp(t);return isFinite(e)?N(Math.log(e)):t}},{key:"derivImpl",value:function(t){var e=N(1/(1+Math.exp(-this.arg.value())));return _(this.arg.deriv(t),e)}}]),e}(A),S=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(o.a)(e,[{key:"valueImpl",value:function(){var t=this.left.value()-this.right.value();return t*t}},{key:"derivImpl",value:function(t){return 2*(this.left.value()-this.right.value())*(this.left.deriv(t)-this.right.deriv(t))}}]),e}(x),z=function(){function t(){Object(c.a)(this,t),this.adjustments=void 0,this.velocity=void 0,this.adjustments=[],this.velocity=0}return Object(o.a)(t,[{key:"value",value:function(){return this.get().value()}},{key:"print",value:function(){return this.get().print()}},{key:"study",value:function(t){this.adjustments.push(-this.studyImpl(t))}},{key:"learn",value:function(t,e){if(this.adjustments.length>0){var n=this.adjustments.reduce((function(t,e){return t+e}),0)*t/this.adjustments.length;this.velocity=this.velocity*(1-e)+n,this.learnImpl(this.velocity),this.adjustments=[]}}}]),t}(),F=function(t){function e(t,n){var r;return Object(c.a)(this,e),(r=Object(h.a)(this,Object(v.a)(e).call(this))).w=void 0,r.t=void 0,r.w=new L("w"+e.count,n),r.t=new T(r.w,t.get()),++e.count,r}return Object(f.a)(e,t),Object(o.a)(e,[{key:"get",value:function(){return this.w}},{key:"getExpr",value:function(){return this.t}},{key:"studyImpl",value:function(t){return t.deriv(this.w)}},{key:"learnImpl",value:function(t){this.w.bind(this.value()+t)}},{key:"reset",value:function(){this.t.reset()}}]),e}(z);F.count=0;var B=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(h.a)(this,Object(v.a)(e).call(this))).b=void 0,t.b=new L("b"+e.count,0),++e.count,t}return Object(f.a)(e,t),Object(o.a)(e,[{key:"get",value:function(){return this.b}},{key:"getExpr",value:function(){return this.get()}},{key:"studyImpl",value:function(t){return t.deriv(this.b)}},{key:"learnImpl",value:function(t){this.b.bind(this.value()+t)}}]),e}(z);B.count=0;var W=n(18),D=n(11),X=function(){function t(){Object(c.a)(this,t)}return Object(o.a)(t,[{key:"value",value:function(){return this.get().value()}}]),t}(),q=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(h.a)(this,Object(v.a)(e).call(this))).x=void 0,n.x=new L(t),n}return Object(f.a)(e,t),Object(o.a)(e,[{key:"get",value:function(){return this.x}},{key:"print",value:function(){return this.x.print()}},{key:"bind",value:function(t){this.x.bind(t)}}]),e}(X),U=function(t){function e(t){var n;Object(c.a)(this,e),(n=Object(h.a)(this,Object(v.a)(e).call(this))).weights=void 0,n.bias=void 0,n.sum=void 0,n.exp=void 0;for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];n.weights=a,n.bias=new B;var u=n.weights.map((function(t){return t.getExpr()}));return n.sum=Object(D.a)(I,Object(y.a)(u).concat([n.bias.getExpr()])),n.exp=new t(n.sum),n}return Object(f.a)(e,t),Object(o.a)(e,[{key:"get",value:function(){return this.exp}},{key:"print",value:function(){return"["+this.weights.map((function(t){return t.value()})).join(" ")+"] "+this.bias.value()}},{key:"getWeight",value:function(t){return this.weights[t]}},{key:"getBias",value:function(){return this.bias}},{key:"study",value:function(t){this.weights.forEach((function(e){return e.study(t)})),this.bias.study(t)}},{key:"learn",value:function(t,e){this.weights.forEach((function(n){return n.learn(t,e)})),this.bias.learn(t,e)}},{key:"reset",value:function(){this.exp.reset(),this.sum.reset(),this.weights.forEach((function(t){return t.reset()}))}}]),e}(X),G=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(f.a)(e,t),e}(U),H=function(t){function e(t,n,r){var a,i;Object(c.a)(this,e);for(var u=arguments.length,s=new Array(u>3?u-3:0),l=3;l<u;l++)s[l-3]=arguments[l];return(i=Object(h.a)(this,(a=Object(v.a)(e)).call.apply(a,[this,n].concat(s)))).y=void 0,i.err=void 0,i.y=new L(t),i.err=new r(i.get(),i.y),i}return Object(f.a)(e,t),Object(o.a)(e,[{key:"getErr",value:function(){return this.err}},{key:"valueErr",value:function(){return this.getErr().value()}},{key:"bind",value:function(t){this.y.bind(t)}},{key:"reset",value:function(){Object(W.a)(Object(v.a)(e.prototype),"reset",this).call(this),this.err.reset()}}]),e}(U),J=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;Object(c.a)(this,t),this.entries=void 0,this.size=void 0,this.entries=e,this.size=void 0===n?this.entries.length:n}return Object(o.a)(t,[{key:"get",value:function(t,e){return this.entries[t][e]}},{key:"row",value:function(t){return this.entries[t]}},{key:"col",value:function(t){return this.entries[t]}},{key:"rows",value:function(){return this.entries}},{key:"cols",value:function(){return this.entries}},{key:"height",value:function(){return this.size}},{key:"width",value:function(){return this.size}},{key:"transpose",value:function(){return this}},{key:"print",value:function(){return this.entries.map((function(t){return t.join()})).join("\n")}}]),t}(),V=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;Object(c.a)(this,t),this.entries=void 0,this.h=void 0,this.w=void 0,this.t=void 0,this.entries=e,this.h=void 0===n?e.length:n,this.w=void 0===r?e[0].length:r,this.t=void 0===a?null:a}return Object(o.a)(t,[{key:"get",value:function(t,e){return this.entries[t][e]}},{key:"row",value:function(t){return this.entries[t]}},{key:"col",value:function(t){return this.setT(),this.t[t]}},{key:"rows",value:function(){return this.entries}},{key:"cols",value:function(){return this.setT(),this.t}},{key:"height",value:function(){return this.h}},{key:"width",value:function(){return this.w}},{key:"transpose",value:function(){return this.setT(),new t(this.t,this.w,this.h,this.entries)}},{key:"setT",value:function(){var t=this;if(null===this.t){this.t=new Array(this.w);for(var e=function(e){t.t[e]=t.entries.map((function(t){return t[e]}))},n=0;n<this.w;++n)e(n)}}},{key:"print",value:function(){return this.entries.map((function(t){return t.join()})).join("\n")}}]),t}();var K=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=new Array(t),r=0;r<t;++r)n[r]=new Array(t).fill(0),n[r][r]=e;return new J(n,t)};function P(t,e){return new V(t.rows().map((function(t){return e.cols().map((function(e){return n=e,t.reduce((function(t,e,r){return t+e*n[r]}),0);var n}))})),t.height(),e.width())}function Q(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=new Array(t).fill(0),e[n][n]=1;for(var r=e,a=arguments.length,i=new Array(a>1?a-1:0),u=1;u<a;u++)i[u-1]=arguments[u];for(var s=0,l=i;s<l.length;s++){var c=l[s],o=c.x,h=c.y;if(o<t&&h<t){var v=2*Math.random()-1,f=Math.sqrt(1-v*v);e[o][o]=v,e[h][h]=v,Math.random()<.5?(e[o][h]=f,e[h][o]=-f,r[o][h]=-f,r[h][o]=f):(e[o][h]=-f,e[h][o]=f,r[o][h]=f,r[h][o]=-f)}}return new V(e,t,t,r)}function Y(t){for(var e=t.height(),n=e%2===0?e:e+1,r=n/2,a=[],i=[],u=n-1,s=[],l=1;l<r;++l)a.push(l),i.push(u-l);for(var c=0;c<=n-2;++c){s[c]=[{x:0,y:u}];for(var o=0;o<a.length;++o)s[c].push({x:a[o],y:i[o]});a.unshift(u),i.push(a.pop()),u=i.shift()}return s.map((function(t){return Q.apply(void 0,[e].concat(Object(y.a)(t)))})).reduceRight(P,t)}function Z(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=K(t,n),a=[];a.length<e;)a=a.concat(Y(r).cols());return a.slice(0,e)}var $=function(){function t(){Object(c.a)(this,t)}return Object(o.a)(t,[{key:"print",value:function(){return"[\n"+this.get().map((function(t){return"\t"+t.print()})).join("\n")+"\n]"}},{key:"size",value:function(){return this.get().length}}]),t}(),tt=function(t){function e(){var t;Object(c.a)(this,e),(t=Object(h.a)(this,Object(v.a)(e).call(this))).neurons=void 0,t.neurons=new Map;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];for(var i=0,u=r;i<u.length;i++){var s=u[i];t.neurons.set(s,new q(s))}return t}return Object(f.a)(e,t),Object(o.a)(e,[{key:"get",value:function(){return Array.from(this.neurons.values())}},{key:"getNeuron",value:function(t){return this.neurons.get(t)}},{key:"values",value:function(){var t=new Map,e=!0,n=!1,r=void 0;try{for(var a,i=this.neurons[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var u=a.value,s=Object(b.a)(u,2),l=s[0],c=s[1];t.set(l,c.value())}}catch(o){n=!0,r=o}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}return t}},{key:"bind",value:function(t){var e=!0,n=!1,r=void 0;try{for(var a,i=this.neurons[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var u,s=a.value,l=Object(b.a)(s,2),c=l[0];l[1].bind(null!==(u=t.get(c))&&void 0!==u?u:0)}}catch(o){n=!0,r=o}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}}]),e}($),et=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(o.a)(e,[{key:"study",value:function(t){this.get().forEach((function(e){return e.study(t)}))}},{key:"learn",value:function(t,e){this.get().forEach((function(n){return n.learn(t,e)}))}},{key:"reset",value:function(){this.get().forEach((function(t){return t.reset()}))}}]),e}($),nt=function(t){function e(t,n,r){var a;Object(c.a)(this,e),(a=Object(h.a)(this,Object(v.a)(e).call(this))).neurons=void 0,a.neurons=[];for(var i=t.get(),u=Z(i.length,r),s=function(t){a.neurons.push(Object(D.a)(G,[n].concat(Object(y.a)(i.map((function(e,n){return new F(e,u[t][n])}))))))},l=0;l<r;++l)s(l);return a}return Object(f.a)(e,t),Object(o.a)(e,[{key:"get",value:function(){return this.neurons}},{key:"getNeuron",value:function(t){return this.neurons[t]}},{key:"getWeight",value:function(t,e){return this.neurons[t].getWeight(e)}},{key:"getBias",value:function(t){return this.neurons[t].getBias()}},{key:"values",value:function(){return this.neurons.map((function(t){return t.value()}))}}]),e}(et),rt=function(t){function e(t,n,r){var a,i=arguments;Object(c.a)(this,e),(a=Object(h.a)(this,Object(v.a)(e).call(this))).neurons=void 0,a.err=void 0,a.neurons=new Map;for(var u=t.get(),s=Z(u.length,arguments.length<=3?0:arguments.length-3),l=function(t){a.neurons.set(t+3<3||i.length<=t+3?void 0:i[t+3],Object(D.a)(H,[t+3<3||i.length<=t+3?void 0:i[t+3],n,r].concat(Object(y.a)(u.map((function(e,n){return new F(e,s[t][n])}))))))},o=0;o<(arguments.length<=3?0:arguments.length-3);++o)l(o);return a.err=Object(D.a)(I,Object(y.a)(Array.from(a.neurons.values()).map((function(t){return t.getErr()})))),a}return Object(f.a)(e,t),Object(o.a)(e,[{key:"get",value:function(){return Array.from(this.neurons.values())}},{key:"getNeuron",value:function(t){return this.neurons.get(t)}},{key:"getWeight",value:function(t,e){var n;return null===(n=this.neurons.get(t))||void 0===n?void 0:n.getWeight(e)}},{key:"getBias",value:function(t){var e;return null===(e=this.neurons.get(t))||void 0===e?void 0:e.getBias()}},{key:"getErr",value:function(){return this.err}},{key:"valueErr",value:function(){return this.getErr().value()}},{key:"values",value:function(){var t=new Map,e=!0,n=!1,r=void 0;try{for(var a,i=this.neurons[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var u=a.value,s=Object(b.a)(u,2),l=s[0],c=s[1];t.set(l,c.value())}}catch(o){n=!0,r=o}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}return t}},{key:"bind",value:function(t){var e=!0,n=!1,r=void 0;try{for(var a,i=this.neurons[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var u,s=a.value,l=Object(b.a)(s,2),c=l[0];l[1].bind(null!==(u=t.get(c))&&void 0!==u?u:0)}}catch(o){n=!0,r=o}finally{try{e||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"reset",value:function(){Object(W.a)(Object(v.a)(e.prototype),"reset",this).call(this),this.err.reset()}}]),e}(et),at=function(t){function e(){return Object(c.a)(this,e),Object(h.a)(this,Object(v.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(o.a)(e,[{key:"Err",value:function(){return S}},{key:"rsq",value:function(){var t=this,e=this.tests();return e.reduce((function(e,n){var r=n.input,a=n.output;return t.bind(r,a),e+t.valueErr()}),0)/e.length}},{key:"r",value:function(){return Math.sqrt(this.rsq())}}]),e}(function(){function t(){Object(c.a)(this,t),this.inputLayer=void 0,this.hiddenLayers=void 0,this.outputLayer=void 0,this.studied=void 0,this.studied=[];var e=this.source(1)[0],n=e.input,r=e.output,a=Array.from(n.keys()),i=Array.from(r.keys());this.inputLayer=Object(D.a)(tt,Object(y.a)(a)),this.hiddenLayers=[];var u=this.inputLayer,s=!0,l=!1,o=void 0;try{for(var h,v=this.hiddenSizes()[Symbol.iterator]();!(s=(h=v.next()).done);s=!0){var f=h.value;this.hiddenLayers.push(new nt(u,this.Act(),f)),u=this.hiddenLayers[this.hiddenLayers.length-1]}}catch(b){l=!0,o=b}finally{try{s||null==v.return||v.return()}finally{if(l)throw o}}this.outputLayer=Object(D.a)(rt,[u,this.Act(),this.Err()].concat(Object(y.a)(i)))}return Object(o.a)(t,[{key:"print",value:function(){return this.hiddenLayers.map((function(t){return t.print()})).join("\n")+"\n"+this.outputLayer.print()}},{key:"getInputLayer",value:function(){return this.inputLayer}},{key:"getHiddenLayer",value:function(t){return this.hiddenLayers[t]}},{key:"getOutputLayer",value:function(){return this.outputLayer}},{key:"getErr",value:function(){return this.outputLayer.getErr()}},{key:"valueErr",value:function(){return this.outputLayer.valueErr()}},{key:"avgErr",value:function(){return this.studied.reduce((function(t,e){return t+e.err}),0)/this.studied.length}},{key:"bind",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.reset(),this.inputLayer.bind(t),e&&this.outputLayer.bind(e)}},{key:"getOutput",value:function(t){return this.bind(t),this.outputLayer.values()}},{key:"study",value:function(t){var e=this;this.studied=this.source(t).map((function(t){e.bind(t.input,t.output);var n=e.outputLayer.getErr();return e.hiddenLayers.forEach((function(t){return t.study(n)})),e.outputLayer.study(n),{sample:t,err:n.value()}}))}},{key:"learn",value:function(t,e){this.hiddenLayers.forEach((function(n){return n.learn(t,e)})),this.outputLayer.learn(t,e)}},{key:"reset",value:function(){this.hiddenLayers.forEach((function(t){return t.reset()})),this.outputLayer.reset()}}]),t}()),it=function(t){function e(){var t,n;Object(c.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(t=Object(v.a)(e)).call.apply(t,[this].concat(a)))).cachedTests=[{input:new Map([["x",0]]),output:new Map([["y",42]])},{input:new Map([["x",1]]),output:new Map([["y",42]])}],n}return Object(f.a)(e,t),Object(o.a)(e,[{key:"source",value:function(t){this.studied.sort((function(t,e){return e.err-t.err}));for(var e=this.studied.slice(0,t/2).map((function(t){return t.sample})),n=e.length;n<t;++n)e.push({input:new Map([["x",Math.random()]]),output:new Map([["y",42]])});return e}},{key:"Act",value:function(){return R}},{key:"Err",value:function(){return S}},{key:"hiddenSizes",value:function(){return[]}},{key:"tests",value:function(){return this.cachedTests}},{key:"m",value:function(){return this.getOutputLayer().getWeight("y",0).value()}},{key:"b",value:function(){return this.getOutputLayer().getBias("y").value()}},{key:"value",value:function(t){return this.getOutput(new Map([["x",t]])).get("y")}}]),e}(at),ut=function(t){function e(){var t,n;Object(c.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(t=Object(v.a)(e)).call.apply(t,[this].concat(a))))._net=void 0,n}return Object(f.a)(e,t),Object(o.a)(e,[{key:"net",value:function(){return this._net||(this._net=new it),this._net}},{key:"makeRowExtras",value:function(){return new Map([["m",this.net().m()],["b",this.net().b()]])}},{key:"AboutContents",value:function(){return a.a.createElement("p",null,"Asteria wants to learn the answer to life, the universe, and everything, but she needs your help!",a.a.createElement("br",null),"Asteria is the simplest possible neural network: a single input neuron linked to a single output neuron.",a.a.createElement("br",null),"The full equation for Asteria is y=ReLU(mx+b). Her initial state is y=ReLU(x), where m=1.",a.a.createElement("br",null),"Asteria will be trained to minimize R^2, the mean of (y-42)^2 over randomly-sampled values of x ranging from 0 to 1.")}},{key:"TestingContents",value:function(){return a.a.createElement("p",null,"Asteria should output 42 no matter what input we give her.")}},{key:"TrainingContents",value:function(){return a.a.createElement("p",null,"We want Asteria to reach y=42~ReLU(42), where m=0 and b~42.",a.a.createElement("br",null),"To adjust m and b, Asteria samples values of x between 0 to 1 and does fancy backpropagation.")}}]),e}(w),st=function(t){function e(){var t,n;Object(c.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(t=Object(v.a)(e)).call.apply(t,[this].concat(a)))).cachedTests=function(){for(var t=[],e=0;e<=1;e+=.1)for(var n=0;n<=1;n+=.1){var r=e>.5&&n>.5?0:1;t.push({input:new Map([["x",e],["y",n]]),output:new Map([["xNANDy",r]])})}return t}(),n}return Object(f.a)(e,t),Object(o.a)(e,[{key:"source",value:function(t){this.studied.sort((function(t,e){return e.err-t.err}));for(var e=t/4,n=this.studied.slice(e,2*e).map((function(t){return t.sample})),r=n.length;r<t;++r){var a=Math.random(),i=Math.random(),u=a>.5&&i>.5?0:1;n.push({input:new Map([["x",a],["y",i]]),output:new Map([["xNANDy",u]])})}return n}},{key:"Act",value:function(){return C}},{key:"Err",value:function(){return S}},{key:"hiddenSizes",value:function(){return[2]}},{key:"tests",value:function(){return this.cachedTests}},{key:"value",value:function(t,e){return this.getOutput(new Map([["x",t],["y",e]])).get("xNANDy")}}]),e}(at),lt=function(t){function e(){var t,n;Object(c.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(t=Object(v.a)(e)).call.apply(t,[this].concat(a))))._net=void 0,n}return Object(f.a)(e,t),Object(o.a)(e,[{key:"net",value:function(){return this._net||(this._net=new st),this._net}}]),e}(w),ct=function(t){function e(){var t,n;Object(c.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(t=Object(v.a)(e)).call.apply(t,[this].concat(a)))).cachedTests=function(){for(var t=[],e=0;e<=1;e+=.1)for(var n=0;n<=1;n+=.1){var r=e>.5===n>.5?0:1;t.push({input:new Map([["x",e],["y",n]]),output:new Map([["xXORy",r]])})}return t}(),n}return Object(f.a)(e,t),Object(o.a)(e,[{key:"source",value:function(t){this.studied.sort((function(t,e){return e.err-t.err}));for(var e=t/4,n=this.studied.slice(e,2*e).map((function(t){return t.sample})),r=0;r<t;++r){var a=Math.random(),i=Math.random(),u=a>.5===i>.5?0:1;n.push({input:new Map([["x",a],["y",i]]),output:new Map([["xXORy",u]])})}return n}},{key:"Act",value:function(){return C}},{key:"Err",value:function(){return S}},{key:"hiddenSizes",value:function(){return[2,4,4]}},{key:"tests",value:function(){return this.cachedTests}},{key:"value",value:function(t,e){return this.getOutput(new Map([["x",t],["y",e]])).get("xXORy")}}]),e}(at),ot=function(t){function e(){var t,n;Object(c.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(t=Object(v.a)(e)).call.apply(t,[this].concat(a))))._net=void 0,n}return Object(f.a)(e,t),Object(o.a)(e,[{key:"net",value:function(){return this._net||(this._net=new ct),this._net}}]),e}(w);var ht=function(){return a.a.createElement(s.a,null,a.a.createElement("div",null,a.a.createElement("nav",null,"[",a.a.createElement(s.b,{to:"/Asteria/42"},"42"),"] [",a.a.createElement(s.b,{to:"/Asteria/NAND"},"NAND"),"] [",a.a.createElement(s.b,{to:"/Asteria/XOR"},"XOR"),"]")),a.a.createElement(l.c,null,a.a.createElement(l.a,{path:"/Asteria/42"},a.a.createElement(ut,null)),a.a.createElement(l.a,{path:"/Asteria/NAND"},a.a.createElement(lt,null)),a.a.createElement(l.a,{path:"/Asteria/XOR"},a.a.createElement(ot,null))))};u.a.render(a.a.createElement(ht,null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.8d3704bc.chunk.js.map